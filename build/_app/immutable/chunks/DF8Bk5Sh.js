import{M as _,D as m,N as y,O as o,P as D,I as E,J as i,h as n,Q as V,R as g,S as w,T as x}from"./AsQG98fS.js";function M(e,l,a=l){var d=new WeakSet;_(e,"input",async r=>{m&&e.type==="checkbox"&&y();var v=r?e.defaultValue:e.value;if(v=u(e)?t(v):v,a(v),o!==null&&d.add(o),await D(),v!==(v=l())){var f=e.selectionStart,s=e.selectionEnd,h=e.value.length;if(e.value=v??"",s!==null){var c=e.value.length;f===s&&s===h&&c>h?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=f,e.selectionEnd=Math.min(s,c))}}}),(n&&e.defaultValue!==e.value||E(l)==null&&e.value)&&(a(u(e)?t(e.value):e.value),o!==null&&d.add(o)),i(()=>{m&&e.type==="checkbox"&&y();var r=l();if(e===document.activeElement){var v=V??o;if(d.has(v))return}u(e)&&r===t(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}const b=new Set;function O(e,l,a,d,r=d){var v=a.getAttribute("type")==="checkbox",f=e;let s=!1;if(l!==null)for(var h of l)f=f[h]??=[];f.push(a),_(a,"change",()=>{var c=a.__value;v&&(c=S(f,c,a.checked)),r(c)},()=>r(v?[]:null)),i(()=>{var c=d();if(n&&a.defaultChecked!==a.checked){s=!0;return}v?(c=c||[],a.checked=c.includes(a.__value)):a.checked=g(a.__value,c)}),w(()=>{var c=f.indexOf(a);c!==-1&&f.splice(c,1)}),b.has(f)||(b.add(f),x(()=>{f.sort((c,k)=>c.compareDocumentPosition(k)===4?-1:1),b.delete(f)})),x(()=>{if(s){var c;if(v)c=S(f,c,a.checked);else{var k=f.find(C=>C.checked);c=k?.__value}r(c)}})}function P(e,l,a=l){_(e,"change",d=>{var r=d?e.defaultChecked:e.checked;a(r)}),(n&&e.defaultChecked!==e.checked||E(l)==null)&&a(e.checked),i(()=>{var d=l();e.checked=!!d})}function S(e,l,a){for(var d=new Set,r=0;r<e.length;r+=1)e[r].checked&&d.add(e[r].__value);return a||d.delete(l),Array.from(d)}function u(e){var l=e.type;return l==="number"||l==="range"}function t(e){return e===""?null:+e}function q(e,l,a=l){_(e,"change",()=>{a(e.files)}),n&&e.files&&a(e.files),i(()=>{e.files=l()})}export{O as a,M as b,P as c,q as d};
