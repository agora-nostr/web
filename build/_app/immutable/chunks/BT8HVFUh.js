import{b as i,K as r,g as o,s as c}from"./Bq750rDx.js";function u(){if(typeof window>"u")return{subscribedPacks:[],favoritePacks:[]};try{const s=localStorage.getItem("follow-packs-storage");if(s)return JSON.parse(s)}catch(s){console.error("Failed to load follow packs state:",s)}return{subscribedPacks:[],favoritePacks:[]}}function a(s){if(!(typeof window>"u"))try{localStorage.setItem("follow-packs-storage",JSON.stringify(s))}catch(t){console.error("Failed to save follow packs state:",t)}}class f{#t=i(r(u()));get state(){return o(this.#t)}set state(t){c(this.#t,t,!0)}get subscribedPacks(){return this.state.subscribedPacks}get favoritePacks(){return this.state.favoritePacks}isSubscribed(t){return this.state.subscribedPacks.includes(t)}isFavorite(t){return this.state.favoritePacks.includes(t)}subscribeToPack(t){this.state.subscribedPacks.includes(t)||(this.state.subscribedPacks=[...this.state.subscribedPacks,t],a(this.state))}unsubscribeFromPack(t){this.state.subscribedPacks=this.state.subscribedPacks.filter(e=>e!==t),a(this.state)}toggleFavorite(t){this.state.favoritePacks.includes(t)?this.state.favoritePacks=this.state.favoritePacks.filter(e=>e!==t):this.state.favoritePacks=[...this.state.favoritePacks,t],a(this.state)}}const n=new f;export{n as f};
