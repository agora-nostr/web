import"../chunks/DsnmJJEf.js";import{p as Ct,u as Tt,s as m,b as oe,c as ge,f as U,e as n,h as Mt,i as c,g as e,j as r,L as P,aP as j,k as a,r as t,a as S,t as T,l as f,d as Qt,K as er,M as Ft}from"../chunks/Bq750rDx.js";import{i as A}from"../chunks/BcjopvHb.js";import{s as kr,a as wr}from"../chunks/wxUnewq1.js";import{p as Pr}from"../chunks/CFwZN-iQ.js";import{g as Cr}from"../chunks/C88829DE.js";import{f as qt,n as it,s as Yt,h as Mr}from"../chunks/CdRP5_sk.js";import{s as Jt}from"../chunks/DJZteyxf.js";import{h as tr}from"../chunks/jsJqZDHS.js";import{c as jt}from"../chunks/BZzQpa3b.js";import{e as at,i as lt}from"../chunks/Cjcfrngr.js";import{r as Ut,a as rr,c as Pt,d as Br,g as zt,b as ar,i as Wt,j as Xt,s as or}from"../chunks/uSFILAY7.js";import{c as ie}from"../chunks/BRAzWB6r.js";import{a as nr}from"../chunks/BTSVJW8r.js";import{p as vr}from"../chunks/BL6J_geM.js";import{M as cr,b as ur,c as mr,d as fr,R as gr,e as pr,f as hr,g as _r,h as xr}from"../chunks/Dw4s2o4Z.js";import{D as br}from"../chunks/DtjL0N-6.js";import{B as _e,I as Qe}from"../chunks/DMhdcQZj.js";import{D as yr}from"../chunks/CHVQ8-IN.js";import{T as Ar}from"../chunks/3NtbZaKM.js";import{E as $r,R as sr}from"../chunks/D2qeXkoa.js";import{a as Lt}from"../chunks/BKrWP4DR.js";import{u as lr}from"../chunks/BKSKCJuW.js";import{c as ir}from"../chunks/a7XEC-kH.js";import{p as dr}from"../chunks/CK1WpjU7.js";import{t as wt}from"../chunks/8lBcLtWK.js";import{L as Me}from"../chunks/BoTf7nuy.js";var Sr=c('<span class="text-yellow-500 text-sm"> </span>'),Rr=c("<!> <!>",1),Dr=c('<!> <div class="space-y-4"><div class="bg-neutral-50 dark:bg-background rounded-lg p-4 space-y-3"><div class="flex items-center justify-between"><span class="text-sm text-muted-foreground"> </span> <div class="flex items-center gap-1"><svg class="w-4 h-4 text-primary" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.31-8.86c-1.77-.45-2.34-.94-2.34-1.67 0-.84.79-1.43 2.1-1.43 1.38 0 1.9.66 1.94 1.64h1.71c-.05-1.34-.87-2.57-2.49-2.97V5H10.9v1.69c-1.51.32-2.72 1.3-2.72 2.81 0 1.79 1.49 2.69 3.66 3.21 1.95.46 2.34 1.15 2.34 1.87 0 .53-.39 1.39-2.1 1.39-1.6 0-2.23-.72-2.32-1.64H8.04c.1 1.7 1.36 2.66 2.86 2.97V19h2.34v-1.67c1.52-.29 2.72-1.16 2.73-2.77-.01-2.2-1.9-2.96-3.66-3.42z"></path></svg> <span class="font-mono font-semibold"> </span></div></div> <div class="flex items-center justify-between"><span class="text-sm text-muted-foreground">For</span> <span class="font-semibold"> </span></div> <div class="flex items-center justify-between"><span class="text-sm text-muted-foreground">Via</span> <span class="font-medium"> </span></div> <div class="flex items-center justify-between"><span class="text-sm text-muted-foreground">Trading with</span> <div class="flex items-center gap-2"><span class="font-medium"> </span> <!></div></div></div> <div class="flex items-start gap-3 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg"><svg class="w-5 h-5 text-yellow-600 dark:text-yellow-500 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <div class="text-sm text-yellow-800 dark:text-yellow-300"><p class="font-medium mb-1">Trade Safely</p> <ul class="space-y-1 text-xs"><li>â€¢ Never release funds before confirming payment</li> <li>â€¢ Use escrow when available</li> <li>â€¢ Communicate only through secure channels</li> <li>â€¢ Report suspicious behavior immediately</li></ul></div></div> <label class="flex items-start gap-3 cursor-pointer"><input type="checkbox" class="mt-1 w-4 h-4 text-primary border rounded focus:ring-orange-500"/> <span class="text-sm text-muted-foreground">I understand the risks and agree to proceed with this P2P trade</span></label></div> <!>',1),Tr=c('<div class="py-12 text-center"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"></div> <p class="text-foreground font-medium">Processing Trade...</p> <p class="text-sm text-muted-foreground mt-2">Connecting with trader</p></div>'),zr=c('<div class="py-12 text-center"><div class="w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4"><svg class="w-6 h-6 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg></div> <p class="text-foreground font-medium">Trade Initiated!</p> <p class="text-sm text-muted-foreground mt-2">Check your messages for next steps</p></div>'),Lr=c("<!> <!> <!>",1),jr=c('<span class="text-yellow-500 text-sm"> </span>'),Ur=c('<div class="flex gap-2 w-full"><!> <!></div>'),Fr=c('<!> <div class="space-y-4 px-4 overflow-y-auto pb-4"><div class="bg-neutral-50 dark:bg-background rounded-lg p-4 space-y-3"><div class="flex items-center justify-between"><span class="text-sm text-muted-foreground"> </span> <div class="flex items-center gap-1"><svg class="w-4 h-4 text-primary" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.31-8.86c-1.77-.45-2.34-.94-2.34-1.67 0-.84.79-1.43 2.1-1.43 1.38 0 1.9.66 1.94 1.64h1.71c-.05-1.34-.87-2.57-2.49-2.97V5H10.9v1.69c-1.51.32-2.72 1.3-2.72 2.81 0 1.79 1.49 2.69 3.66 3.21 1.95.46 2.34 1.15 2.34 1.87 0 .53-.39 1.39-2.1 1.39-1.6 0-2.23-.72-2.32-1.64H8.04c.1 1.7 1.36 2.66 2.86 2.97V19h2.34v-1.67c1.52-.29 2.72-1.16 2.73-2.77-.01-2.2-1.9-2.96-3.66-3.42z"></path></svg> <span class="font-mono font-semibold"> </span></div></div> <div class="flex items-center justify-between"><span class="text-sm text-muted-foreground">For</span> <span class="font-semibold"> </span></div> <div class="flex items-center justify-between"><span class="text-sm text-muted-foreground">Via</span> <span class="font-medium"> </span></div> <div class="flex items-center justify-between"><span class="text-sm text-muted-foreground">Trading with</span> <div class="flex items-center gap-2"><span class="font-medium"> </span> <!></div></div></div> <div class="flex items-start gap-3 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg"><svg class="w-5 h-5 text-yellow-600 dark:text-yellow-500 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <div class="text-sm text-yellow-800 dark:text-yellow-300"><p class="font-medium mb-1">Trade Safely</p> <ul class="space-y-1 text-xs"><li>â€¢ Never release funds before confirming payment</li> <li>â€¢ Use escrow when available</li> <li>â€¢ Communicate only through secure channels</li> <li>â€¢ Report suspicious behavior immediately</li></ul></div></div> <label class="flex items-start gap-3 cursor-pointer"><input type="checkbox" class="mt-1 w-4 h-4 text-primary border rounded focus:ring-orange-500"/> <span class="text-sm text-muted-foreground">I understand the risks and agree to proceed with this P2P trade</span></label></div> <!>',1),Ir=c('<div class="py-12 text-center px-4"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"></div> <p class="text-foreground font-medium">Processing Trade...</p> <p class="text-sm text-muted-foreground mt-2">Connecting with trader</p></div>'),Kr=c('<div class="py-12 text-center px-4"><div class="w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4"><svg class="w-6 h-6 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg></div> <p class="text-foreground font-medium">Trade Initiated!</p> <p class="text-sm text-muted-foreground mt-2">Check your messages for next steps</p></div>'),Or=c("<!> <!> <!>",1);function Nr(xe,o){Ct(o,!0);const I=new cr("(min-width: 768px)");let R=vr(o,"open",15,!1),$=oe(null);Tt(()=>{o.order.event.author.fetchProfile().then(d=>{m($,d,!0)})});let h=oe("confirm"),y=oe(!1);async function C(){m(h,"processing");try{const d=new qt(it);d.kind=38383,d.tags=[["d",`take-${o.order.id}-${Date.now()}`],["e",o.order.event.id],["p",o.order.pubkey],["k",o.order.type==="buy"?"sell":"buy"],["f",o.order.currency],["s","in-progress"],["amt",o.order.satsAmount.toString()],["fa",o.order.fiatAmount.toString()],["pm",o.order.paymentMethod],["y","Agora"],["z","take-order"]],d.content=`Taking order ${o.order.id}`,await d.publish();const k=new qt(it);k.kind=38383,k.tags=[...o.order.event.tags.filter(Q=>Q[0]!=="s"),["s","in-progress"]],k.content="",await k.publish(),m(h,"complete"),setTimeout(()=>{R(!1),o.onClose()},2e3)}catch(d){console.error("Failed to take order:",d),m(h,"confirm")}}const Z=S(()=>({USD:"$",EUR:"â‚¬",GBP:"Â£",BRL:"R$"})[o.order.currency]||o.order.currency);var b=ge(),q=U(b);{var _=d=>{var k=ge(),Q=U(k);ie(Q,()=>gr,(pe,W)=>{W(pe,{get open(){return R()},onOpenChange:x=>{R(x),x||o.onClose()},children:(x,Pe)=>{var ee=ge(),K=U(ee);ie(K,()=>ur,(N,Y)=>{Y(N,{class:"max-w-md",children:(Ce,Te)=>{var Fe=Lr(),B=U(Fe);{var et=O=>{var de=Dr(),Ye=U(de);ie(Ye,()=>mr,(L,F)=>{F(L,{children:(ke,Ae)=>{var he=ge(),v=U(he);ie(v,()=>fr,(u,M)=>{M(u,{children:(E,X)=>{P();var ce=j("Confirm Trade");n(E,ce)},$$slots:{default:!0}})}),n(ke,he)},$$slots:{default:!0}})});var Ie=r(Ye,2),g=a(Ie),z=a(g),ne=a(z),se=a(ne);t(ne);var le=r(ne,2),H=r(a(le),2),Ke=a(H);t(H),t(le),t(z);var ve=r(z,2),be=r(a(ve),2),ze=a(be);t(be),t(ve);var te=r(ve,2),Je=r(a(te),2),st=a(Je,!0);t(Je),t(te);var Le=r(te,2),Be=r(a(Le),2),ye=a(Be),je=a(ye,!0);t(ye);var Oe=r(ye,2);{var We=L=>{var F=Sr(),ke=a(F);t(F),T(Ae=>f(ke,`â˜… ${Ae??""}`),[()=>o.order.rating.toFixed(1)]),n(L,F)};A(Oe,L=>{o.order.rating&&L(We)})}t(Be),t(Le),t(g);var Ne=r(g,4),Xe=a(Ne);Ut(Xe),P(2),t(Ne),t(Ie);var Ue=r(Ie,2);ie(Ue,()=>yr,(L,F)=>{F(L,{children:(ke,Ae)=>{var he=Rr(),v=U(he);_e(v,{variant:"outline",onclick:()=>{R(!1),o.onClose()},children:(M,E)=>{P();var X=j("Cancel");n(M,X)},$$slots:{default:!0}});var u=r(v,2);{let M=S(()=>!e(y));_e(u,{onclick:C,get disabled(){return e(M)},children:(E,X)=>{P();var ce=j("Take Order");n(E,ce)},$$slots:{default:!0}})}n(ke,he)},$$slots:{default:!0}})}),T((L,F)=>{f(se,`You will ${o.order.type==="buy"?"sell":"buy"}`),f(Ke,`${L??""} BTC`),f(ze,`${e(Z)??""}${F??""}`),f(st,o.order.paymentMethod),f(je,e($)?.name||"Anonymous")},[()=>(o.order.satsAmount/1e8).toFixed(8),()=>o.order.fiatAmount.toFixed(2)]),nr(Xe,()=>e(y),L=>m(y,L)),n(O,de)};A(B,O=>{e(h)==="confirm"&&O(et)})}var Ge=r(B,2);{var ot=O=>{var de=Tr();n(O,de)};A(Ge,O=>{e(h)==="processing"&&O(ot)})}var Ze=r(Ge,2);{var nt=O=>{var de=zr();n(O,de)};A(Ze,O=>{e(h)==="complete"&&O(nt)})}n(Ce,Fe)},$$slots:{default:!0}})}),n(x,ee)},$$slots:{default:!0}})}),n(d,k)},p=d=>{var k=ge(),Q=U(k);ie(Q,()=>xr,(pe,W)=>{W(pe,{get open(){return R()},onOpenChange:x=>{R(x),x||o.onClose()},children:(x,Pe)=>{var ee=ge(),K=U(ee);ie(K,()=>pr,(N,Y)=>{Y(N,{children:(Ce,Te)=>{var Fe=Or(),B=U(Fe);{var et=O=>{var de=Fr(),Ye=U(de);ie(Ye,()=>hr,(L,F)=>{F(L,{class:"text-left",children:(ke,Ae)=>{var he=ge(),v=U(he);ie(v,()=>_r,(u,M)=>{M(u,{children:(E,X)=>{P();var ce=j("Confirm Trade");n(E,ce)},$$slots:{default:!0}})}),n(ke,he)},$$slots:{default:!0}})});var Ie=r(Ye,2),g=a(Ie),z=a(g),ne=a(z),se=a(ne);t(ne);var le=r(ne,2),H=r(a(le),2),Ke=a(H);t(H),t(le),t(z);var ve=r(z,2),be=r(a(ve),2),ze=a(be);t(be),t(ve);var te=r(ve,2),Je=r(a(te),2),st=a(Je,!0);t(Je),t(te);var Le=r(te,2),Be=r(a(Le),2),ye=a(Be),je=a(ye,!0);t(ye);var Oe=r(ye,2);{var We=L=>{var F=jr(),ke=a(F);t(F),T(Ae=>f(ke,`â˜… ${Ae??""}`),[()=>o.order.rating.toFixed(1)]),n(L,F)};A(Oe,L=>{o.order.rating&&L(We)})}t(Be),t(Le),t(g);var Ne=r(g,4),Xe=a(Ne);Ut(Xe),P(2),t(Ne),t(Ie);var Ue=r(Ie,2);ie(Ue,()=>br,(L,F)=>{F(L,{class:"pt-2",children:(ke,Ae)=>{var he=Ur(),v=a(he);_e(v,{variant:"outline",onclick:()=>{R(!1),o.onClose()},class:"flex-1",children:(M,E)=>{P();var X=j("Cancel");n(M,X)},$$slots:{default:!0}});var u=r(v,2);{let M=S(()=>!e(y));_e(u,{onclick:C,get disabled(){return e(M)},class:"flex-1",children:(E,X)=>{P();var ce=j("Take Order");n(E,ce)},$$slots:{default:!0}})}t(he),n(ke,he)},$$slots:{default:!0}})}),T((L,F)=>{f(se,`You will ${o.order.type==="buy"?"sell":"buy"}`),f(Ke,`${L??""} BTC`),f(ze,`${e(Z)??""}${F??""}`),f(st,o.order.paymentMethod),f(je,e($)?.name||"Anonymous")},[()=>(o.order.satsAmount/1e8).toFixed(8),()=>o.order.fiatAmount.toFixed(2)]),nr(Xe,()=>e(y),L=>m(y,L)),n(O,de)};A(B,O=>{e(h)==="confirm"&&O(et)})}var Ge=r(B,2);{var ot=O=>{var de=Ir();n(O,de)};A(Ge,O=>{e(h)==="processing"&&O(ot)})}var Ze=r(Ge,2);{var nt=O=>{var de=Kr();n(O,de)};A(Ze,O=>{e(h)==="complete"&&O(nt)})}n(Ce,Fe)},$$slots:{default:!0}})}),n(x,ee)},$$slots:{default:!0}})}),n(d,k)};A(q,d=>{I.current?d(_):d(p,!1)})}n(xe,b),Mt()}var Er=c('<img class="w-10 h-10 md:w-12 md:h-12 rounded-full object-cover"/>'),Hr=c('<div class="w-10 h-10 md:w-12 md:h-12 bg-gradient-to-br bg-primary rounded-full"></div>'),Vr=c('<div class="flex items-center gap-1 text-yellow-500"><svg class="w-4 h-4 fill-current" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path></svg> <span class="text-sm"> </span></div>'),Gr=c('<span class="inline-flex items-center gap-1 ml-2"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg> <span> </span></span>'),Zr=c("<span> </span>"),Yr=c('<p class="text-xs text-muted-foreground mt-1"> <!></p>'),Jr=c('<span class="text-xs text-muted-foreground hidden md:inline"> </span>'),Wr=c('<a target="_blank" rel="noopener noreferrer" class="flex-1 flex items-center justify-center gap-1 md:gap-2 px-3 md:px-4 py-1.5 md:py-2 bg-primary text-foreground rounded-lg hover:bg-primary-700 transition-colors text-sm md:text-base"><svg class="w-3 h-3 md:w-4 md:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg> <span class="hidden md:inline"> </span> <span class="md:hidden">View</span></a>'),Xr=c('<button class="flex-1 flex items-center justify-center gap-1 md:gap-2 px-3 md:px-4 py-1.5 md:py-2 bg-primary text-foreground rounded-lg hover:bg-primary-700 transition-colors text-sm md:text-base"><svg class="w-3 h-3 md:w-4 md:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg> <span class="hidden md:inline"> </span> <span class="md:hidden"> </span></button>'),qr=c('<div class="bg-card rounded-lg md:rounded-xl border border p-3 md:p-4 hover:shadow-lg transition-shadow"><div class="flex items-start justify-between mb-2 md:mb-3"><div class="flex items-center gap-3"><!> <div><div class="flex items-center gap-2"><h3 class="font-semibold text-sm md:text-base text-foreground"> </h3> <!></div> <p class="text-xs text-muted-foreground"><!> <!> <!></p></div></div> <div class="flex items-center gap-1 md:gap-2"><span class="text-lg md:text-2xl"> </span> <div> </div> <!></div></div> <div class="grid grid-cols-3 gap-2 md:gap-4 mb-3 md:mb-4"><div><p class="text-xs text-muted-foreground mb-0.5 md:mb-1">Amount</p> <div class="flex items-center gap-1 md:gap-2"><svg class="w-3 h-3 md:w-4 md:h-4 text-primary" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.31-8.86c-1.77-.45-2.34-.94-2.34-1.67 0-.84.79-1.43 2.1-1.43 1.38 0 1.9.66 1.94 1.64h1.71c-.05-1.34-.87-2.57-2.49-2.97V5H10.9v1.69c-1.51.32-2.72 1.3-2.72 2.81 0 1.79 1.49 2.69 3.66 3.21 1.95.46 2.34 1.15 2.34 1.87 0 .53-.39 1.39-2.1 1.39-1.6 0-2.23-.72-2.32-1.64H8.04c.1 1.7 1.36 2.66 2.86 2.97V19h2.34v-1.67c1.52-.29 2.72-1.16 2.73-2.77-.01-2.2-1.9-2.96-3.66-3.42z"></path></svg> <span class="font-mono font-semibold text-xs md:text-base text-foreground"> </span></div> <p class="text-xs text-muted-foreground mt-0.5 md:mt-1 hidden md:block"> </p></div> <div><p class="text-xs text-muted-foreground mb-0.5 md:mb-1">Price</p> <div class="flex items-center gap-1"><span class="text-sm md:text-base hidden md:inline"> </span> <p class="text-sm md:text-lg font-semibold text-foreground"> </p></div> <!></div> <div class="min-w-0"><p class="text-xs text-muted-foreground mb-0.5 md:mb-1">Payment</p> <div class="flex items-center gap-1 md:gap-2"><span class="text-sm md:text-lg flex-shrink-0"> </span> <div class="flex flex-col min-w-0"><span class="font-medium text-xs md:text-base text-foreground truncate max-w-[80px] md:max-w-none"> </span> <!></div></div></div></div> <div class="flex items-center gap-2"><!> <button class="p-1.5 md:p-2 border border rounded-lg hover:bg-accent transition-colors"><svg class="w-3 h-3 md:w-4 md:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path></svg></button> <button class="p-1.5 md:p-2 border border rounded-lg hover:bg-accent transition-colors hidden md:block"><svg class="w-3 h-3 md:w-4 md:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg></button></div></div> <!>',1);function Qr(xe,o){Ct(o,!0);let I=oe(null);Tt(()=>{o.order.event.author.fetchProfile().then(v=>{m(I,v,!0)})});let R=oe(!1);const $={USD:{symbol:"$",flag:"ğŸ‡ºğŸ‡¸"},EUR:{symbol:"â‚¬",flag:"ğŸ‡ªğŸ‡º"},GBP:{symbol:"Â£",flag:"ğŸ‡¬ğŸ‡§"},BRL:{symbol:"R$",flag:"ğŸ‡§ğŸ‡·"},ARS:{symbol:"$",flag:"ğŸ‡¦ğŸ‡·"},PLN:{symbol:"zÅ‚",flag:"ğŸ‡µğŸ‡±"},JPY:{symbol:"Â¥",flag:"ğŸ‡¯ğŸ‡µ"},CHF:{symbol:"Fr",flag:"ğŸ‡¨ğŸ‡­"},PEN:{symbol:"S/",flag:"ğŸ‡µğŸ‡ª"},UYU:{symbol:"$",flag:"ğŸ‡ºğŸ‡¾"},VES:{symbol:"Bs",flag:"ğŸ‡»ğŸ‡ª"},RUB:{symbol:"â‚½",flag:"ğŸ‡·ğŸ‡º"},SEK:{symbol:"kr",flag:"ğŸ‡¸ğŸ‡ª"},NOK:{symbol:"kr",flag:"ğŸ‡³ğŸ‡´"},AUD:{symbol:"$",flag:"ğŸ‡¦ğŸ‡º"},CUP:{symbol:"$",flag:"ğŸ‡¨ğŸ‡º"}},h={Cash:{icon:"ğŸ’µ",region:"Universal"},"Cash (F2F)":{icon:"ğŸ’µ",region:"Local"},PIX:{icon:"ğŸ”„",region:"Brazil"},BLIK:{icon:"ğŸ“±",region:"Poland"},Revolut:{icon:"ğŸ’³",region:"Europe"},Zelle:{icon:"ğŸ¦",region:"USA"},CashApp:{icon:"ğŸ“²",region:"USA"},CVU:{icon:"ğŸ§",region:"Argentina"},MP:{icon:"ğŸ“²",region:"Argentina"},f2f:{icon:"ğŸ¤",region:"Local"},Ğ¡Ğ‘ĞŸ:{icon:"ğŸ¦",region:"Russia"}},y=S(()=>$[o.order.currency]||{symbol:o.order.currency,flag:"ğŸŒ"}),C=S(()=>h[o.order.paymentMethod]||{icon:"ğŸ’°",region:""}),Z=S(()=>o.order.fiatAmount>0&&o.order.satsAmount>0?o.order.fiatAmount/o.order.satsAmount*1e8:0);var b=qr(),q=U(b),_=a(q),p=a(_),d=a(p);{var k=v=>{var u=Er();T(()=>{Pt(u,"src",e(I).picture),Pt(u,"alt",e(I).name||"User")}),n(v,u)},Q=v=>{var u=Hr();n(v,u)};A(d,v=>{e(I)?.picture?v(k):v(Q,!1)})}var pe=r(d,2),W=a(pe),x=a(W),Pe=a(x,!0);t(x);var ee=r(x,2);{var K=v=>{var u=Vr(),M=r(a(u),2),E=a(M,!0);t(M),t(u),T(X=>f(E,X),[()=>o.order.rating.toFixed(1)]),n(v,u)};A(ee,v=>{o.order.rating&&o.order.rating>0&&v(K)})}t(W);var N=r(W,2),Y=a(N);Ar(Y,{get timestamp(){return o.order.createdAt}});var Ce=r(Y,2);{var Te=v=>{var u=j();T(()=>f(u,`â€¢ ${o.order.platform??""}`)),n(v,u)};A(Ce,v=>{o.order.platform&&v(Te)})}var Fe=r(Ce,2);{var B=v=>{var u=Gr(),M=r(a(u),2),E=a(M);t(M),t(u),T(X=>f(E,`Near ${X??""}`),[()=>o.order.geohash.substring(0,4)]),n(v,u)};A(Fe,v=>{o.order.geohash&&o.order.paymentMethod.includes("F2F")&&v(B)})}t(N),t(pe),t(p);var et=r(p,2),Ge=a(et),ot=a(Ge,!0);t(Ge);var Ze=r(Ge,2),nt=a(Ze,!0);t(Ze);var O=r(Ze,2);$r(O,{get event(){return o.order.event}}),t(et),t(_);var de=r(_,2),Ye=a(de),Ie=r(a(Ye),2),g=r(a(Ie),2),z=a(g,!0);t(g),t(Ie);var ne=r(Ie,2),se=a(ne);t(ne),t(Ye);var le=r(Ye,2),H=r(a(le),2),Ke=a(H),ve=a(Ke,!0);t(Ke);var be=r(Ke,2),ze=a(be);t(be),t(H);var te=r(H,2);{var Je=v=>{var u=Yr(),M=a(u),E=r(M);{var X=ce=>{var qe=Zr(),dt=a(qe);t(qe),T(()=>{rr(qe,1,Br(o.order.premium>0?"text-red-500":"text-green-500")),f(dt,`(${o.order.premium>0?"+":""}${o.order.premium??""}%)`)}),n(ce,qe)};A(E,ce=>{o.order.premium&&o.order.premium!==0&&ce(X)})}t(u),T(ce=>f(M,`${e(y).symbol??""}${ce??""}/BTC `),[()=>e(Z).toFixed(2)]),n(v,u)};A(te,v=>{e(Z)>0&&v(Je)})}t(le);var st=r(le,2),Le=r(a(st),2),Be=a(Le),ye=a(Be,!0);t(Be);var je=r(Be,2),Oe=a(je),We=a(Oe,!0);t(Oe);var Ne=r(Oe,2);{var Xe=v=>{var u=Jr(),M=a(u,!0);t(u),T(()=>f(M,e(C).region)),n(v,u)};A(Ne,v=>{e(C).region&&v(Xe)})}t(je),t(Le),t(st),t(de);var Ue=r(de,2),L=a(Ue);{var F=v=>{var u=Wr(),M=r(a(u),2),E=a(M);t(M),P(2),t(u),T(()=>{Pt(u,"href",o.order.source),Pt(u,"title",`View on ${(o.order.platform||"external site")??""}`),f(E,`View on ${(o.order.platform||"Site")??""}`)}),n(v,u)},ke=v=>{var u=Xr();u.__click=()=>m(R,!0);var M=r(a(u),2),E=a(M,!0);t(M);var X=r(M,2),ce=a(X,!0);t(X),t(u),T(()=>{f(E,o.order.type==="buy"?"Sell to User":"Buy from User"),f(ce,o.order.type==="buy"?"Sell":"Buy")}),n(v,u)};A(L,v=>{o.order.source?v(F):v(ke,!1)})}P(4),t(Ue),t(q);var Ae=r(q,2);{var he=v=>{Nr(v,{get order(){return o.order},onClose:()=>m(R,!1)})};A(Ae,v=>{e(R)&&v(he)})}T((v,u,M,E)=>{f(Pe,v),f(ot,e(y).flag),rr(Ze,1,`px-2 md:px-3 py-0.5 md:py-1 rounded-full text-xs md:text-sm font-medium ${o.order.type==="buy"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`),f(nt,o.order.type==="buy"?"Buying":"Selling"),f(z,u),f(se,`${M??""} sats`),f(ve,e(y).flag),f(ze,`${e(y).symbol??""}${E??""}`),f(ye,e(C).icon),f(We,o.order.paymentMethod)},[()=>e(I)?.name||`@${o.order.pubkey.slice(0,6)}...`,()=>(o.order.satsAmount/1e8).toFixed(4),()=>o.order.satsAmount.toLocaleString(),()=>o.order.fiatAmount.toFixed(0)]),n(xe,b),Mt()}Qt(["click"]);var ea=c('<div class="text-center py-12 text-muted-foreground">No orders available matching your filters</div>'),ta=c('<div class="w-full"><div class="grid gap-3 md:gap-4"><!></div></div>');function ra(xe,o){Ct(o,!0);const I=it.$subscribe(()=>({filters:[{kinds:[38383],limit:100}],closeOnEose:!1})),R=S(()=>I.events),$=S(()=>{const _=[];return e(R).forEach(p=>{const d=p.tags,k=d.find(B=>B[0]==="z");if(k&&k[1]==="info")return;const Q=d.find(B=>B[0]==="k")?.[1],pe=d.find(B=>B[0]==="f")?.[1],W=d.find(B=>B[0]==="s")?.[1],x=d.find(B=>B[0]==="pm")?.[1],Pe=parseInt(d.find(B=>B[0]==="amt")?.[1]||"0"),ee=parseFloat(d.find(B=>B[0]==="fa")?.[1]||"0"),K=parseFloat(d.find(B=>B[0]==="premium")?.[1]||"0"),N=parseFloat(d.find(B=>B[0]==="rating")?.[1]||"0"),Y=d.find(B=>B[0]==="y")?.[1],Ce=d.find(B=>B[0]==="g")?.[1],Te=d.find(B=>B[0]==="source")?.[1],Fe=d.find(B=>B[0]==="d")?.[1];W==="pending"&&Q&&pe&&Fe&&_.push({id:Fe,pubkey:p.pubkey,type:Q,currency:pe,status:W,paymentMethod:x||"Unknown",satsAmount:Pe,fiatAmount:ee,premium:K,rating:N,platform:Y,geohash:Ce,source:Te,createdAt:p.created_at||Date.now()/1e3,event:p})}),_.sort((p,d)=>d.createdAt-p.createdAt),_}),h=S(()=>e($).filter(_=>!(o.filters.currency!=="all"&&_.currency!==o.filters.currency||o.filters.paymentMethod!=="all"&&_.paymentMethod!==o.filters.paymentMethod||o.filters.orderType!=="all"&&_.type!==o.filters.orderType||_.satsAmount<o.filters.minAmount||_.satsAmount>o.filters.maxAmount)));var y=ta(),C=a(y),Z=a(C);{var b=_=>{var p=ea();n(_,p)},q=_=>{var p=ge(),d=U(p);at(d,17,()=>e(h),k=>k.id,(k,Q)=>{Qr(k,{get order(){return e(Q)}})}),n(_,p)};A(Z,_=>{e(h).length===0?_(b):_(q,!1)})}t(C),t(y),n(xe,y),Mt()}var aa=c("<option> </option>"),oa=c('<span class="text-lg mr-2"> </span> <span class="text-sm"> </span>',1),na=c('<div class="mt-3"><!></div>'),sa=Ft('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg> Location (Required for F2F)',1),la=Ft('<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>'),ia=c('<p class="text-xs text-muted-foreground"> </p>'),da=c('<div><!> <div class="space-y-2 mt-2"><div class="flex gap-2"><!> <!></div> <!></div></div>'),va=c('<img alt="" class="w-5 h-5 rounded border border-background"/>'),ca=c('<div class="w-5 h-5 rounded bg-muted flex items-center justify-center border border-background"><svg class="w-3 h-3 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"></path></svg></div>'),ua=c('<div class="flex items-center -space-x-1"></div>'),ma=c('<span class="absolute -top-1 -right-1 bg-primary text-primary-foreground text-[10px] font-medium rounded-full min-w-[14px] h-[14px] flex items-center justify-center px-0.5"> </span>'),fa=c('<div class="relative"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"></path></svg> <!></div>'),ga=c('<div class="bg-popover border border-border rounded-lg shadow-xl z-50 w-80 max-h-[400px] overflow-y-auto"><!></div>'),pa=c('<div class="relative"><!> <!></div> <div class="flex gap-2"><!> <!></div>',1),ha=c('<!> <div class="space-y-6"><div><!> <div class="grid grid-cols-2 gap-3"><!> <!></div></div> <div><!> <div class="relative mt-2"><svg class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-primary" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.31-8.86c-1.77-.45-2.34-.94-2.34-1.67 0-.84.79-1.43 2.1-1.43 1.38 0 1.9.66 1.94 1.64h1.71c-.05-1.34-.87-2.57-2.49-2.97V5H10.9v1.69c-1.51.32-2.72 1.3-2.72 2.81 0 1.79 1.49 2.69 3.66 3.21 1.95.46 2.34 1.15 2.34 1.87 0 .53-.39 1.39-2.1 1.39-1.6 0-2.23-.72-2.32-1.64H8.04c.1 1.7 1.36 2.66 2.86 2.97V19h2.34v-1.67c1.52-.29 2.72-1.16 2.73-2.77-.01-2.2-1.9-2.96-3.66-3.42z"></path></svg> <!></div> <p class="mt-1 text-xs text-muted-foreground"> </p></div> <div class="grid grid-cols-2 gap-4"><div><!> <!> <p class="mt-1 text-xs text-muted-foreground"> </p></div> <div><!> <select id="currency" class="mt-2 w-full px-3 py-2 border border-input rounded-md bg-background text-foreground"></select></div></div> <div><!> <div class="grid grid-cols-2 gap-3"></div> <!></div> <!> <div><!> <!> <p class="mt-1 text-xs text-muted-foreground">Positive for above market, negative for below</p></div> <div><!> <select id="expiration" class="mt-2 w-full px-3 py-2 border border-input rounded-md bg-background text-foreground"><option>1 hour</option><option>6 hours</option><option>12 hours</option><option>24 hours</option><option>48 hours</option><option>72 hours</option></select></div></div> <!>',1),_a=c("<option> </option>"),xa=c('<span class="text-lg mr-2"> </span> <span class="text-sm"> </span>',1),ba=c('<div class="mt-3"><!></div>'),ya=Ft('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg> Location (Required for F2F)',1),ka=Ft('<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>'),wa=c('<p class="text-xs text-muted-foreground"> </p>'),Pa=c('<div><!> <div class="space-y-2 mt-2"><div class="flex gap-2"><!> <!></div> <!></div></div>'),Ca=c('<img alt="" class="w-5 h-5 rounded border border-background"/>'),Ma=c('<div class="w-5 h-5 rounded bg-muted flex items-center justify-center border border-background"><svg class="w-3 h-3 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"></path></svg></div>'),Ba=c('<div class="flex items-center -space-x-1"></div>'),Aa=c('<span class="absolute -top-1 -right-1 bg-primary text-primary-foreground text-[10px] font-medium rounded-full min-w-[14px] h-[14px] flex items-center justify-center px-0.5"> </span>'),$a=c('<div class="relative"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"></path></svg> <!></div>'),Sa=c('<div class="bg-popover border border-border rounded-lg shadow-xl z-50 w-80 max-h-[400px] overflow-y-auto"><!></div>'),Ra=c('<div class="flex items-center justify-between gap-4 w-full"><div class="relative"><!> <!></div> <div class="flex gap-2"><!> <!></div></div>'),Da=c('<!> <div class="space-y-6 px-4 overflow-y-auto pb-4"><div><!> <div class="grid grid-cols-2 gap-3"><!> <!></div></div> <div><!> <div class="relative mt-2"><svg class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-primary" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.31-8.86c-1.77-.45-2.34-.94-2.34-1.67 0-.84.79-1.43 2.1-1.43 1.38 0 1.9.66 1.94 1.64h1.71c-.05-1.34-.87-2.57-2.49-2.97V5H10.9v1.69c-1.51.32-2.72 1.3-2.72 2.81 0 1.79 1.49 2.69 3.66 3.21 1.95.46 2.34 1.15 2.34 1.87 0 .53-.39 1.39-2.1 1.39-1.6 0-2.23-.72-2.32-1.64H8.04c.1 1.7 1.36 2.66 2.86 2.97V19h2.34v-1.67c1.52-.29 2.72-1.16 2.73-2.77-.01-2.2-1.9-2.96-3.66-3.42z"></path></svg> <!></div> <p class="mt-1 text-xs text-muted-foreground"> </p></div> <div class="grid grid-cols-2 gap-4"><div><!> <!> <p class="mt-1 text-xs text-muted-foreground"> </p></div> <div><!> <select id="currency" class="mt-2 w-full px-3 py-2 border border-input rounded-md bg-background text-foreground"></select></div></div> <div><!> <div class="grid grid-cols-2 gap-3"></div> <!></div> <!> <div><!> <!> <p class="mt-1 text-xs text-muted-foreground">Positive for above market, negative for below</p></div> <div><!> <select id="expiration" class="mt-2 w-full px-3 py-2 border border-input rounded-md bg-background text-foreground"><option>1 hour</option><option>6 hours</option><option>12 hours</option><option>24 hours</option><option>48 hours</option><option>72 hours</option></select></div></div> <!>',1);function Ta(xe,o){Ct(o,!0);const I=new cr("(min-width: 768px)");let R=vr(o,"open",15,!1);const $=[{code:"USD",symbol:"$",name:"US Dollar"},{code:"EUR",symbol:"â‚¬",name:"Euro"},{code:"GBP",symbol:"Â£",name:"British Pound"},{code:"BRL",symbol:"R$",name:"Brazilian Real"},{code:"ARS",symbol:"$",name:"Argentine Peso"},{code:"PLN",symbol:"zÅ‚",name:"Polish ZÅ‚oty"}],h=[{id:"Cash (F2F)",name:"Cash (F2F)",icon:"ğŸ’µ",requiresLocation:!0},{id:"Revolut",name:"Revolut",icon:"ğŸ’³"},{id:"PIX",name:"PIX (Brazil)",icon:"ğŸ”„"},{id:"BLIK",name:"BLIK (Poland)",icon:"ğŸ“±"},{id:"Zelle",name:"Zelle",icon:"ğŸ¦"},{id:"CashApp",name:"Cash App",icon:"ğŸ“²"},{id:"custom",name:"Other...",icon:"âœï¸"}];function y(g,z,ne=5){const se="0123456789bcdefghjkmnpqrstuvwxyz";let le=0,H=0,Ke=!0,ve="",be=[-90,90],ze=[-180,180];for(;ve.length<ne;){if(Ke){const te=(ze[0]+ze[1])/2;z>=te?(le|=1<<4-H,ze[0]=te):ze[1]=te}else{const te=(be[0]+be[1])/2;g>=te?(le|=1<<4-H,be[0]=te):be[1]=te}Ke=!Ke,H++,H===5&&(ve+=se[le],H=0,le=0)}return ve}let C=oe("buy"),Z=oe("USD"),b=oe("100000"),q=oe("50"),_=oe("Cash (F2F)"),p=oe(""),d=oe(""),k=oe(""),Q=oe("0"),pe=oe("24"),W=oe(!1),x=oe(er([])),Pe=oe(!1),ee=oe(!1),K=oe(null),N=oe(er({top:0,left:0}));const Y=S(()=>Yt.relays.filter(g=>g.enabled));Tt(()=>{R()&&(Yt.selectedRelay?m(x,[Yt.selectedRelay],!0):e(x).length===0&&m(x,e(Y).filter(g=>g.write).map(g=>g.url),!0))});const Ce=S(()=>h.find(g=>g.id===e(_))?.requiresLocation||!1);Tt(()=>{e(Ce)||(m(d,""),m(k,""))});function Te(){navigator.geolocation?navigator.geolocation.getCurrentPosition(g=>{const z=g.coords.latitude,ne=g.coords.longitude,se=y(z,ne,5);m(k,se,!0),m(d,`Near ${se} (auto-detected)`),wt.success("Location detected")},g=>{console.error("Error getting location:",g),wt.error("Could not get your location. Please enter city/area manually.")}):wt.error("Geolocation is not supported by your browser")}function Fe(g){e(x).includes(g)?m(x,e(x).filter(z=>z!==g),!0):m(x,[...e(x),g],!0)}function B(g){m(x,[g],!0),m(ee,!1)}function et(){m(ee,!1)}function Ge(){if(!e(ee)&&e(K)){const g=e(K).getBoundingClientRect(),z=400,se=window.innerHeight-g.bottom<z&&g.top>z;m(N,{top:se?g.top-z-8:g.bottom+8,left:g.left},!0)}m(ee,!e(ee))}async function ot(){const g=e(_)==="custom"?e(p):e(_);if(!g){wt.error("Please specify a payment method");return}if(e(_)==="Cash (F2F)"&&!e(d)&&!e(k)){wt.error("Please provide a location for face-to-face trades");return}m(W,!0);try{const z=new qt(it);z.kind=38383;const se=[["d",`${Date.now()}-${Math.random().toString(36).substr(2,9)}`],["k",e(C)],["f",e(Z)],["s","pending"],["amt",e(b)],["fa",e(q)],["pm",g],["premium",e(Q)],["y","Agora"],["z","order"],["network","mainnet"],["layer","lightning"],["expiration",(Math.floor(Date.now()/1e3)+Number.parseInt(e(pe))*3600).toString()]];e(k)&&se.push(["g",e(k)]),e(Pe)&&se.push(["-"]),z.tags=se,z.content="";const le=Mr.fromRelayUrls(e(x),it);await z.publish(le),wt.success("Order created successfully"),R(!1),o.onClose()}catch(z){console.error("Failed to create order:",z),wt.error("Failed to create order")}finally{m(W,!1)}}const Ze=S(()=>parseInt(e(b))/1e8),nt=S(()=>parseFloat(e(q))/e(Ze));var O=ge(),de=U(O);{var Ye=g=>{var z=ge(),ne=U(z);ie(ne,()=>gr,(se,le)=>{le(se,{get open(){return R()},onOpenChange:H=>{R(H),H||o.onClose()},children:(H,Ke)=>{var ve=ge(),be=U(ve);ie(be,()=>ur,(ze,te)=>{te(ze,{class:"max-w-lg max-h-[90vh] overflow-y-auto",children:(Je,st)=>{var Le=ha(),Be=U(Le);ie(Be,()=>mr,(s,l)=>{l(s,{children:(i,V)=>{var w=ge(),ue=U(w);ie(ue,()=>fr,(me,fe)=>{fe(me,{children:($e,D)=>{P();var G=j("Create P2P Order");n($e,G)},$$slots:{default:!0}})}),n(i,w)},$$slots:{default:!0}})});var ye=r(Be,2),je=a(ye),Oe=a(je);Me(Oe,{class:"block mb-2",children:(s,l)=>{P();var i=j("Order Type");n(s,i)},$$slots:{default:!0}});var We=r(Oe,2),Ne=a(We);{let s=S(()=>e(C)==="buy"?"default":"outline"),l=S(()=>e(C)==="buy"?"border-green-500 bg-green-50 text-green-700 dark:bg-green-900/30 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900/40":"");_e(Ne,{get variant(){return e(s)},onclick:()=>m(C,"buy"),get class(){return e(l)},children:(i,V)=>{P();var w=j("I want to buy Bitcoin");n(i,w)},$$slots:{default:!0}})}var Xe=r(Ne,2);{let s=S(()=>e(C)==="sell"?"default":"outline"),l=S(()=>e(C)==="sell"?"border-red-500 bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40":"");_e(Xe,{get variant(){return e(s)},onclick:()=>m(C,"sell"),get class(){return e(l)},children:(i,V)=>{P();var w=j("I want to sell Bitcoin");n(i,w)},$$slots:{default:!0}})}t(We),t(je);var Ue=r(je,2),L=a(Ue);Me(L,{for:"sats-amount",children:(s,l)=>{P();var i=j("Bitcoin Amount (sats)");n(s,i)},$$slots:{default:!0}});var F=r(L,2),ke=r(a(F),2);Qe(ke,{id:"sats-amount",type:"number",class:"pl-10",placeholder:"100000",get value(){return e(b)},set value(s){m(b,s,!0)}}),t(F);var Ae=r(F,2),he=a(Ae);t(Ae),t(Ue);var v=r(Ue,2),u=a(v),M=a(u);Me(M,{for:"fiat-amount",children:(s,l)=>{P();var i=j("Fiat Amount");n(s,i)},$$slots:{default:!0}});var E=r(M,2);Qe(E,{id:"fiat-amount",type:"number",placeholder:"50",class:"mt-2",get value(){return e(q)},set value(s){m(q,s,!0)}});var X=r(E,2),ce=a(X);t(X),t(u);var qe=r(u,2),dt=a(qe);Me(dt,{for:"currency",children:(s,l)=>{P();var i=j("Currency");n(s,i)},$$slots:{default:!0}});var vt=r(dt,2);at(vt,21,()=>$,lt,(s,l)=>{var i=aa(),V=a(i);t(i);var w={};T(()=>{f(V,`${e(l).symbol??""} ${e(l).code??""}`),w!==(w=e(l).code)&&(i.value=(i.__value=e(l).code)??"")}),n(s,i)}),t(vt),t(qe),t(v);var ct=r(v,2),Bt=a(ct);Me(Bt,{class:"block mb-2",children:(s,l)=>{P();var i=j("Payment Method");n(s,i)},$$slots:{default:!0}});var ut=r(Bt,2);at(ut,21,()=>h,lt,(s,l)=>{{let i=S(()=>e(_)===e(l).id?"default":"outline"),V=S(()=>e(_)===e(l).id?"border-primary":"");_e(s,{get variant(){return e(i)},onclick:()=>m(_,e(l).id,!0),get class(){return`justify-start h-auto py-2 ${e(V)??""}`},children:(w,ue)=>{var me=oa(),fe=U(me),$e=a(fe,!0);t(fe);var D=r(fe,2),G=a(D,!0);t(D),T(()=>{f($e,e(l).icon),f(G,e(l).name)}),n(w,me)},$$slots:{default:!0}})}}),t(ut);var It=r(ut,2);{var Kt=s=>{var l=na(),i=a(l);Qe(i,{placeholder:"Enter payment method (e.g., Bank Transfer, PayPal, etc.)",autofocus:!0,get value(){return e(p)},set value(V){m(p,V,!0)}}),t(l),n(s,l)};A(It,s=>{e(_)==="custom"&&s(Kt)})}t(ct);var At=r(ct,2);{var Ot=s=>{var l=da(),i=a(l);Me(i,{for:"location",class:"flex items-center gap-1",children:(D,G)=>{var Se=sa();P(),n(D,Se)},$$slots:{default:!0}});var V=r(i,2),w=a(V),ue=a(w);Qe(ue,{id:"location",placeholder:"City, neighborhood, or area",class:"flex-1",get value(){return e(d)},set value(D){m(d,D,!0)}});var me=r(ue,2);_e(me,{variant:"outline",size:"icon",onclick:Te,title:"Use current location",children:(D,G)=>{var Se=la();n(D,Se)},$$slots:{default:!0}}),t(w);var fe=r(w,2);{var $e=D=>{var G=ia(),Se=a(G);t(G),T(()=>f(Se,`Geohash: ${e(k)??""} (approximate location)`)),n(D,G)};A(fe,D=>{e(k)&&D($e)})}t(V),t(l),n(s,l)};A(At,s=>{e(Ce)&&s(Ot)})}var mt=r(At,2),$t=a(mt);Me($t,{for:"premium",children:(s,l)=>{P();var i=j("Premium (%)");n(s,i)},$$slots:{default:!0}});var Nt=r($t,2);Qe(Nt,{id:"premium",type:"number",placeholder:"0",class:"mt-2",get value(){return e(Q)},set value(s){m(Q,s,!0)}}),P(2),t(mt);var St=r(mt,2),Rt=a(St);Me(Rt,{for:"expiration",children:(s,l)=>{P();var i=j("Expiration (hours)");n(s,i)},$$slots:{default:!0}});var ft=r(Rt,2),gt=a(ft);gt.value=gt.__value="1";var pt=r(gt);pt.value=pt.__value="6";var ht=r(pt);ht.value=ht.__value="12";var _t=r(ht);_t.value=_t.__value="24";var xt=r(_t);xt.value=xt.__value="48";var Dt=r(xt);Dt.value=Dt.__value="72",t(ft),t(St),t(ye);var Et=r(ye,2);ie(Et,()=>yr,(s,l)=>{l(s,{class:"mt-6 flex items-center justify-between gap-4",children:(i,V)=>{var w=pa(),ue=U(w),me=a(ue);_e(me,{type:"button",variant:"outline",size:"icon",onclick:Ge,get disabled(){return e(W)},class:"h-10 w-10",title:"Select relays",get ref(){return e(K)},set ref(J){m(K,J,!0)},children:(J,re)=>{var Re=ge(),ae=U(Re);{var bt=Ee=>{var De=ua();at(De,21,()=>e(x),lt,(yt,kt)=>{const He=S(()=>e(Y).find(we=>we.url===e(kt))),Ve=S(()=>e(He)?lr(e(He).url):null);var tt=ge(),Vt=U(tt);{var Gt=we=>{var rt=va();T(()=>Pt(rt,"src",e(Ve).info.icon)),n(we,rt)},Zt=we=>{var rt=ca();n(we,rt)};A(Vt,we=>{e(Ve)?.info?.icon?we(Gt):we(Zt,!1)})}n(yt,tt)}),t(De),n(Ee,De)},Ht=Ee=>{var De=fa(),yt=r(a(De),2);{var kt=He=>{var Ve=ma(),tt=a(Ve,!0);t(Ve),T(()=>f(tt,e(x).length)),n(He,Ve)};A(yt,He=>{e(x).length>2&&He(kt)})}t(De),n(Ee,De)};A(ae,Ee=>{e(x).length<=2&&e(x).length>0?Ee(bt):Ee(Ht,!1)})}n(J,Re)},$$slots:{default:!0}});var fe=r(me,2);{var $e=J=>{var re=ga(),Re=a(re);sr(Re,{get selectedRelayUrls(){return e(x)},onToggleRelay:Fe,onSelectOnly:B,get isProtected(){return e(Pe)},set isProtected(ae){m(Pe,ae,!0)}}),t(re),Lt(re,ae=>dr?.(ae)),Lt(re,(ae,bt)=>ir?.(ae,bt),()=>et),T(()=>ar(re,`position: fixed; top: ${e(N).top??""}px; left: ${e(N).left??""}px;`)),n(J,re)};A(fe,J=>{e(ee)&&J($e)})}t(ue);var D=r(ue,2),G=a(D);_e(G,{variant:"outline",onclick:()=>{R(!1),o.onClose()},children:(J,re)=>{P();var Re=j("Cancel");n(J,Re)},$$slots:{default:!0}});var Se=r(G,2);{let J=S(()=>e(W)||!e(b)||!e(q));_e(Se,{onclick:ot,get disabled(){return e(J)},children:(re,Re)=>{P();var ae=j();T(()=>f(ae,e(W)?"Creating...":"Create Order")),n(re,ae)},$$slots:{default:!0}})}t(D),n(i,w)},$$slots:{default:!0}})}),T((s,l)=>{f(he,`= ${s??""} BTC`),f(ce,`â‰ˆ $${l??""}/BTC`)},[()=>e(Ze).toFixed(8),()=>e(nt).toFixed(2)]),zt(vt,()=>e(Z),s=>m(Z,s)),zt(ft,()=>e(pe),s=>m(pe,s)),n(Je,Le)},$$slots:{default:!0}})}),n(H,ve)},$$slots:{default:!0}})}),n(g,z)},Ie=g=>{var z=ge(),ne=U(z);ie(ne,()=>xr,(se,le)=>{le(se,{get open(){return R()},onOpenChange:H=>{R(H),H||o.onClose()},children:(H,Ke)=>{var ve=ge(),be=U(ve);ie(be,()=>pr,(ze,te)=>{te(ze,{children:(Je,st)=>{var Le=Da(),Be=U(Le);ie(Be,()=>hr,(s,l)=>{l(s,{class:"text-left",children:(i,V)=>{var w=ge(),ue=U(w);ie(ue,()=>_r,(me,fe)=>{fe(me,{children:($e,D)=>{P();var G=j("Create P2P Order");n($e,G)},$$slots:{default:!0}})}),n(i,w)},$$slots:{default:!0}})});var ye=r(Be,2),je=a(ye),Oe=a(je);Me(Oe,{class:"block mb-2",children:(s,l)=>{P();var i=j("Order Type");n(s,i)},$$slots:{default:!0}});var We=r(Oe,2),Ne=a(We);{let s=S(()=>e(C)==="buy"?"default":"outline"),l=S(()=>e(C)==="buy"?"border-green-500 bg-green-50 text-green-700 dark:bg-green-900/30 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900/40":"");_e(Ne,{get variant(){return e(s)},onclick:()=>m(C,"buy"),get class(){return e(l)},children:(i,V)=>{P();var w=j("I want to buy Bitcoin");n(i,w)},$$slots:{default:!0}})}var Xe=r(Ne,2);{let s=S(()=>e(C)==="sell"?"default":"outline"),l=S(()=>e(C)==="sell"?"border-red-500 bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40":"");_e(Xe,{get variant(){return e(s)},onclick:()=>m(C,"sell"),get class(){return e(l)},children:(i,V)=>{P();var w=j("I want to sell Bitcoin");n(i,w)},$$slots:{default:!0}})}t(We),t(je);var Ue=r(je,2),L=a(Ue);Me(L,{for:"sats-amount",children:(s,l)=>{P();var i=j("Bitcoin Amount (sats)");n(s,i)},$$slots:{default:!0}});var F=r(L,2),ke=r(a(F),2);Qe(ke,{id:"sats-amount",type:"number",class:"pl-10",placeholder:"100000",get value(){return e(b)},set value(s){m(b,s,!0)}}),t(F);var Ae=r(F,2),he=a(Ae);t(Ae),t(Ue);var v=r(Ue,2),u=a(v),M=a(u);Me(M,{for:"fiat-amount",children:(s,l)=>{P();var i=j("Fiat Amount");n(s,i)},$$slots:{default:!0}});var E=r(M,2);Qe(E,{id:"fiat-amount",type:"number",placeholder:"50",class:"mt-2",get value(){return e(q)},set value(s){m(q,s,!0)}});var X=r(E,2),ce=a(X);t(X),t(u);var qe=r(u,2),dt=a(qe);Me(dt,{for:"currency",children:(s,l)=>{P();var i=j("Currency");n(s,i)},$$slots:{default:!0}});var vt=r(dt,2);at(vt,21,()=>$,lt,(s,l)=>{var i=_a(),V=a(i);t(i);var w={};T(()=>{f(V,`${e(l).symbol??""} ${e(l).code??""}`),w!==(w=e(l).code)&&(i.value=(i.__value=e(l).code)??"")}),n(s,i)}),t(vt),t(qe),t(v);var ct=r(v,2),Bt=a(ct);Me(Bt,{class:"block mb-2",children:(s,l)=>{P();var i=j("Payment Method");n(s,i)},$$slots:{default:!0}});var ut=r(Bt,2);at(ut,21,()=>h,lt,(s,l)=>{{let i=S(()=>e(_)===e(l).id?"default":"outline"),V=S(()=>e(_)===e(l).id?"border-primary":"");_e(s,{get variant(){return e(i)},onclick:()=>m(_,e(l).id,!0),get class(){return`justify-start h-auto py-2 ${e(V)??""}`},children:(w,ue)=>{var me=xa(),fe=U(me),$e=a(fe,!0);t(fe);var D=r(fe,2),G=a(D,!0);t(D),T(()=>{f($e,e(l).icon),f(G,e(l).name)}),n(w,me)},$$slots:{default:!0}})}}),t(ut);var It=r(ut,2);{var Kt=s=>{var l=ba(),i=a(l);Qe(i,{placeholder:"Enter payment method (e.g., Bank Transfer, PayPal, etc.)",autofocus:!0,get value(){return e(p)},set value(V){m(p,V,!0)}}),t(l),n(s,l)};A(It,s=>{e(_)==="custom"&&s(Kt)})}t(ct);var At=r(ct,2);{var Ot=s=>{var l=Pa(),i=a(l);Me(i,{for:"location",class:"flex items-center gap-1",children:(D,G)=>{var Se=ya();P(),n(D,Se)},$$slots:{default:!0}});var V=r(i,2),w=a(V),ue=a(w);Qe(ue,{id:"location",placeholder:"City, neighborhood, or area",class:"flex-1",get value(){return e(d)},set value(D){m(d,D,!0)}});var me=r(ue,2);_e(me,{variant:"outline",size:"icon",onclick:Te,title:"Use current location",children:(D,G)=>{var Se=ka();n(D,Se)},$$slots:{default:!0}}),t(w);var fe=r(w,2);{var $e=D=>{var G=wa(),Se=a(G);t(G),T(()=>f(Se,`Geohash: ${e(k)??""} (approximate location)`)),n(D,G)};A(fe,D=>{e(k)&&D($e)})}t(V),t(l),n(s,l)};A(At,s=>{e(Ce)&&s(Ot)})}var mt=r(At,2),$t=a(mt);Me($t,{for:"premium",children:(s,l)=>{P();var i=j("Premium (%)");n(s,i)},$$slots:{default:!0}});var Nt=r($t,2);Qe(Nt,{id:"premium",type:"number",placeholder:"0",class:"mt-2",get value(){return e(Q)},set value(s){m(Q,s,!0)}}),P(2),t(mt);var St=r(mt,2),Rt=a(St);Me(Rt,{for:"expiration",children:(s,l)=>{P();var i=j("Expiration (hours)");n(s,i)},$$slots:{default:!0}});var ft=r(Rt,2),gt=a(ft);gt.value=gt.__value="1";var pt=r(gt);pt.value=pt.__value="6";var ht=r(pt);ht.value=ht.__value="12";var _t=r(ht);_t.value=_t.__value="24";var xt=r(_t);xt.value=xt.__value="48";var Dt=r(xt);Dt.value=Dt.__value="72",t(ft),t(St),t(ye);var Et=r(ye,2);ie(Et,()=>br,(s,l)=>{l(s,{class:"pt-2",children:(i,V)=>{var w=Ra(),ue=a(w),me=a(ue);_e(me,{type:"button",variant:"outline",size:"icon",onclick:Ge,get disabled(){return e(W)},class:"h-10 w-10",title:"Select relays",get ref(){return e(K)},set ref(J){m(K,J,!0)},children:(J,re)=>{var Re=ge(),ae=U(Re);{var bt=Ee=>{var De=Ba();at(De,21,()=>e(x),lt,(yt,kt)=>{const He=S(()=>e(Y).find(we=>we.url===e(kt))),Ve=S(()=>e(He)?lr(e(He).url):null);var tt=ge(),Vt=U(tt);{var Gt=we=>{var rt=Ca();T(()=>Pt(rt,"src",e(Ve).info.icon)),n(we,rt)},Zt=we=>{var rt=Ma();n(we,rt)};A(Vt,we=>{e(Ve)?.info?.icon?we(Gt):we(Zt,!1)})}n(yt,tt)}),t(De),n(Ee,De)},Ht=Ee=>{var De=$a(),yt=r(a(De),2);{var kt=He=>{var Ve=Aa(),tt=a(Ve,!0);t(Ve),T(()=>f(tt,e(x).length)),n(He,Ve)};A(yt,He=>{e(x).length>2&&He(kt)})}t(De),n(Ee,De)};A(ae,Ee=>{e(x).length<=2&&e(x).length>0?Ee(bt):Ee(Ht,!1)})}n(J,Re)},$$slots:{default:!0}});var fe=r(me,2);{var $e=J=>{var re=Sa(),Re=a(re);sr(Re,{get selectedRelayUrls(){return e(x)},onToggleRelay:Fe,onSelectOnly:B,get isProtected(){return e(Pe)},set isProtected(ae){m(Pe,ae,!0)}}),t(re),Lt(re,ae=>dr?.(ae)),Lt(re,(ae,bt)=>ir?.(ae,bt),()=>et),T(()=>ar(re,`position: fixed; top: ${e(N).top??""}px; left: ${e(N).left??""}px;`)),n(J,re)};A(fe,J=>{e(ee)&&J($e)})}t(ue);var D=r(ue,2),G=a(D);_e(G,{variant:"outline",onclick:()=>{R(!1),o.onClose()},children:(J,re)=>{P();var Re=j("Cancel");n(J,Re)},$$slots:{default:!0}});var Se=r(G,2);{let J=S(()=>e(W)||!e(b)||!e(q));_e(Se,{onclick:ot,get disabled(){return e(J)},children:(re,Re)=>{P();var ae=j();T(()=>f(ae,e(W)?"Creating...":"Create Order")),n(re,ae)},$$slots:{default:!0}})}t(D),t(w),n(i,w)},$$slots:{default:!0}})}),T((s,l)=>{f(he,`= ${s??""} BTC`),f(ce,`â‰ˆ $${l??""}/BTC`)},[()=>e(Ze).toFixed(8),()=>e(nt).toFixed(2)]),zt(vt,()=>e(Z),s=>m(Z,s)),zt(ft,()=>e(pe),s=>m(pe,s)),n(Je,Le)},$$slots:{default:!0}})}),n(H,ve)},$$slots:{default:!0}})}),n(g,z)};A(de,g=>{I.current?g(Ye):g(Ie,!1)})}n(xe,O),Mt()}const za={USD:{name:"US Dollar",flag:"ğŸ‡ºğŸ‡¸"},EUR:{name:"Euro",flag:"ğŸ‡ªğŸ‡º"},BRL:{name:"Brazilian Real",flag:"ğŸ‡§ğŸ‡·"},ARS:{name:"Argentine Peso",flag:"ğŸ‡¦ğŸ‡·"},GBP:{name:"British Pound",flag:"ğŸ‡¬ğŸ‡§"},PLN:{name:"Polish ZÅ‚oty",flag:"ğŸ‡µğŸ‡±"},JPY:{name:"Japanese Yen",flag:"ğŸ‡¯ğŸ‡µ"},CAD:{name:"Canadian Dollar",flag:"ğŸ‡¨ğŸ‡¦"},AUD:{name:"Australian Dollar",flag:"ğŸ‡¦ğŸ‡º"},CHF:{name:"Swiss Franc",flag:"ğŸ‡¨ğŸ‡­"},CNY:{name:"Chinese Yuan",flag:"ğŸ‡¨ğŸ‡³"},INR:{name:"Indian Rupee",flag:"ğŸ‡®ğŸ‡³"},MXN:{name:"Mexican Peso",flag:"ğŸ‡²ğŸ‡½"},ZAR:{name:"South African Rand",flag:"ğŸ‡¿ğŸ‡¦"},SEK:{name:"Swedish Krona",flag:"ğŸ‡¸ğŸ‡ª"},NOK:{name:"Norwegian Krone",flag:"ğŸ‡³ğŸ‡´"},DKK:{name:"Danish Krone",flag:"ğŸ‡©ğŸ‡°"},NZD:{name:"New Zealand Dollar",flag:"ğŸ‡³ğŸ‡¿"},SGD:{name:"Singapore Dollar",flag:"ğŸ‡¸ğŸ‡¬"},HKD:{name:"Hong Kong Dollar",flag:"ğŸ‡­ğŸ‡°"},KRW:{name:"South Korean Won",flag:"ğŸ‡°ğŸ‡·"},TRY:{name:"Turkish Lira",flag:"ğŸ‡¹ğŸ‡·"},RUB:{name:"Russian Ruble",flag:"ğŸ‡·ğŸ‡º"},THB:{name:"Thai Baht",flag:"ğŸ‡¹ğŸ‡­"},MYR:{name:"Malaysian Ringgit",flag:"ğŸ‡²ğŸ‡¾"},PHP:{name:"Philippine Peso",flag:"ğŸ‡µğŸ‡­"},IDR:{name:"Indonesian Rupiah",flag:"ğŸ‡®ğŸ‡©"},VND:{name:"Vietnamese Dong",flag:"ğŸ‡»ğŸ‡³"},COP:{name:"Colombian Peso",flag:"ğŸ‡¨ğŸ‡´"},CLP:{name:"Chilean Peso",flag:"ğŸ‡¨ğŸ‡±"},PEN:{name:"Peruvian Sol",flag:"ğŸ‡µğŸ‡ª"},UAH:{name:"Ukrainian Hryvnia",flag:"ğŸ‡ºğŸ‡¦"},AED:{name:"UAE Dirham",flag:"ğŸ‡¦ğŸ‡ª"},SAR:{name:"Saudi Riyal",flag:"ğŸ‡¸ğŸ‡¦"},QAR:{name:"Qatari Riyal",flag:"ğŸ‡¶ğŸ‡¦"},KWD:{name:"Kuwaiti Dinar",flag:"ğŸ‡°ğŸ‡¼"},NGN:{name:"Nigerian Naira",flag:"ğŸ‡³ğŸ‡¬"},KES:{name:"Kenyan Shilling",flag:"ğŸ‡°ğŸ‡ª"},GHS:{name:"Ghanaian Cedi",flag:"ğŸ‡¬ğŸ‡­"},UGX:{name:"Ugandan Shilling",flag:"ğŸ‡ºğŸ‡¬"},VES:{name:"Venezuelan BolÃ­var",flag:"ğŸ‡»ğŸ‡ª"},UYU:{name:"Uruguayan Peso",flag:"ğŸ‡ºğŸ‡¾"},BOB:{name:"Bolivian Boliviano",flag:"ğŸ‡§ğŸ‡´"},CRC:{name:"Costa Rican ColÃ³n",flag:"ğŸ‡¨ğŸ‡·"},GTQ:{name:"Guatemalan Quetzal",flag:"ğŸ‡¬ğŸ‡¹"},HNL:{name:"Honduran Lempira",flag:"ğŸ‡­ğŸ‡³"},NIO:{name:"Nicaraguan CÃ³rdoba",flag:"ğŸ‡³ğŸ‡®"},PAB:{name:"Panamanian Balboa",flag:"ğŸ‡µğŸ‡¦"},PYG:{name:"Paraguayan Guarani",flag:"ğŸ‡µğŸ‡¾"},DOP:{name:"Dominican Peso",flag:"ğŸ‡©ğŸ‡´"},JMD:{name:"Jamaican Dollar",flag:"ğŸ‡¯ğŸ‡²"},TTD:{name:"Trinidad Dollar",flag:"ğŸ‡¹ğŸ‡¹"},BSD:{name:"Bahamian Dollar",flag:"ğŸ‡§ğŸ‡¸"},BBD:{name:"Barbadian Dollar",flag:"ğŸ‡§ğŸ‡§"},BZD:{name:"Belize Dollar",flag:"ğŸ‡§ğŸ‡¿"},XOF:{name:"West African CFA",flag:"ğŸŒ"},XAF:{name:"Central African CFA",flag:"ğŸŒ"},MAD:{name:"Moroccan Dirham",flag:"ğŸ‡²ğŸ‡¦"},TND:{name:"Tunisian Dinar",flag:"ğŸ‡¹ğŸ‡³"},EGP:{name:"Egyptian Pound",flag:"ğŸ‡ªğŸ‡¬"},ILS:{name:"Israeli Shekel",flag:"ğŸ‡®ğŸ‡±"},JOD:{name:"Jordanian Dinar",flag:"ğŸ‡¯ğŸ‡´"},LBP:{name:"Lebanese Pound",flag:"ğŸ‡±ğŸ‡§"},PKR:{name:"Pakistani Rupee",flag:"ğŸ‡µğŸ‡°"},BDT:{name:"Bangladeshi Taka",flag:"ğŸ‡§ğŸ‡©"},LKR:{name:"Sri Lankan Rupee",flag:"ğŸ‡±ğŸ‡°"},NPR:{name:"Nepalese Rupee",flag:"ğŸ‡³ğŸ‡µ"},MMK:{name:"Myanmar Kyat",flag:"ğŸ‡²ğŸ‡²"},KHR:{name:"Cambodian Riel",flag:"ğŸ‡°ğŸ‡­"},LAK:{name:"Lao Kip",flag:"ğŸ‡±ğŸ‡¦"},BND:{name:"Brunei Dollar",flag:"ğŸ‡§ğŸ‡³"},TWD:{name:"Taiwan Dollar",flag:"ğŸ‡¹ğŸ‡¼"},HRK:{name:"Croatian Kuna",flag:"ğŸ‡­ğŸ‡·"},BGN:{name:"Bulgarian Lev",flag:"ğŸ‡§ğŸ‡¬"},RON:{name:"Romanian Leu",flag:"ğŸ‡·ğŸ‡´"},CZK:{name:"Czech Koruna",flag:"ğŸ‡¨ğŸ‡¿"},HUF:{name:"Hungarian Forint",flag:"ğŸ‡­ğŸ‡º"},ISK:{name:"Icelandic KrÃ³na",flag:"ğŸ‡®ğŸ‡¸"},BAM:{name:"Bosnian Mark",flag:"ğŸ‡§ğŸ‡¦"},MKD:{name:"Macedonian Denar",flag:"ğŸ‡²ğŸ‡°"},ALL:{name:"Albanian Lek",flag:"ğŸ‡¦ğŸ‡±"},RSD:{name:"Serbian Dinar",flag:"ğŸ‡·ğŸ‡¸"},GEL:{name:"Georgian Lari",flag:"ğŸ‡¬ğŸ‡ª"},AZN:{name:"Azerbaijani Manat",flag:"ğŸ‡¦ğŸ‡¿"},AMD:{name:"Armenian Dram",flag:"ğŸ‡¦ğŸ‡²"},BYN:{name:"Belarusian Ruble",flag:"ğŸ‡§ğŸ‡¾"},MDL:{name:"Moldovan Leu",flag:"ğŸ‡²ğŸ‡©"},KZT:{name:"Kazakhstani Tenge",flag:"ğŸ‡°ğŸ‡¿"},UZS:{name:"Uzbekistani Som",flag:"ğŸ‡ºğŸ‡¿"},TJS:{name:"Tajikistani Somoni",flag:"ğŸ‡¹ğŸ‡¯"},KGS:{name:"Kyrgyzstani Som",flag:"ğŸ‡°ğŸ‡¬"},TMT:{name:"Turkmenistani Manat",flag:"ğŸ‡¹ğŸ‡²"}};function La(){const xe=it.$subscribe(()=>({filters:[{kinds:[38383],limit:100}],closeOnEose:!1})),o=S(()=>{const I=new Set;xe.events.forEach($=>{const h=$.tags,y=h.find(b=>b[0]==="z");if(y&&y[1]==="info")return;const C=h.find(b=>b[0]==="f")?.[1],Z=h.find(b=>b[0]==="s")?.[1];C&&Z==="pending"&&I.add(C.toUpperCase())});const R=Array.from(I).map($=>{const h=za[$];return{code:$,name:h?.name||$,flag:h?.flag||"ğŸ’±"}}).sort(($,h)=>$.code.localeCompare(h.code));return[{code:"all",name:"All",flag:"ğŸŒ"},...R]});return{get currencies(){return e(o)}}}const ja={Cash:{icon:"ğŸ’µ"},PIX:{icon:"ğŸ”„"},BLIK:{icon:"ğŸ“±"},Revolut:{icon:"ğŸ’³"},revolut:{icon:"ğŸ’³"},Zelle:{icon:"ğŸ¦"},CashApp:{icon:"ğŸ“²"},CVU:{icon:"ğŸ§"},MercadoPago:{icon:"ğŸ§"},f2f:{icon:"ğŸ¤"},"Bank Transfer":{icon:"ğŸ¦"},Wire:{icon:"ğŸ¦"},SEPA:{icon:"ğŸ‡ªğŸ‡º"},PayPal:{icon:"ğŸ’°"},Venmo:{icon:"ğŸ’¸"},Strike:{icon:"âš¡"},Wise:{icon:"ğŸŒ"},N26:{icon:"ğŸ’³"},Monzo:{icon:"ğŸ’³"},Starling:{icon:"ğŸ’³"},TransferWise:{icon:"ğŸŒ"},Instant:{icon:"âš¡"}};function Ua(){const xe=it.$subscribe(()=>({filters:[{kinds:[38383],limit:100}],closeOnEose:!1})),o=S(()=>{const I=new Set;xe.events.forEach($=>{const h=$.tags,y=h.find(b=>b[0]==="z");if(y&&y[1]==="info")return;const C=h.find(b=>b[0]==="pm")?.[1],Z=h.find(b=>b[0]==="s")?.[1];C&&Z==="pending"&&I.add(C)});const R=Array.from(I).map($=>{const h=ja[$];return{id:$,name:$,icon:h?.icon||"ğŸ’³"}}).sort(($,h)=>$.name.localeCompare(h.name));return[{id:"all",name:"All Methods",icon:"ğŸ’°"},...R]});return{get paymentMethods(){return e(o)}}}var Fa=c("<option> </option>"),Ia=c("<option> </option>"),Ka=c('<div class="grid grid-cols-2 lg:grid-cols-1 gap-3 lg:gap-4"><div><label class="flex items-center gap-1.5 text-xs lg:text-sm font-medium text-neutral-400 mb-1 lg:mb-2"><svg class="w-3.5 h-3.5 lg:w-4 lg:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> Currency</label> <select class="w-full px-2 py-1.5 lg:px-3 lg:py-2 text-sm border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"></select></div> <div><label class="flex items-center gap-1.5 text-xs lg:text-sm font-medium text-neutral-400 mb-1 lg:mb-2"><svg class="w-3.5 h-3.5 lg:w-4 lg:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path></svg> Payment Method</label> <select class="w-full px-2 py-1.5 lg:px-3 lg:py-2 text-sm border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"></select></div> <div><label class="flex items-center gap-1.5 text-xs lg:text-sm font-medium text-neutral-400 mb-1 lg:mb-2"><svg class="w-3.5 h-3.5 lg:w-4 lg:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg> Order Type</label> <select class="w-full px-2 py-1.5 lg:px-3 lg:py-2 text-sm border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"><option>All Orders</option><option>Buy Orders</option><option>Sell Orders</option></select></div> <div><label class="text-xs lg:text-sm font-medium text-neutral-400 mb-1 lg:mb-2 block">Amount Range (sats)</label> <div class="flex items-center gap-2"><input type="number" class="w-full px-2 py-1.5 lg:py-2 border border-border rounded-lg bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-primary" placeholder="Min"/> <span class="text-neutral-500 text-sm">-</span> <input type="number" class="w-full px-2 py-1.5 lg:py-2 border border-border rounded-lg bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-primary" placeholder="Max"/></div></div></div>');function Oa(xe,o){Ct(o,!0);const{currencies:I}=La(),{paymentMethods:R}=Ua();var $=Ka(),h=a($),y=r(a(h),2);y.__change=K=>o.onChange({...o.filters,currency:K.currentTarget.value}),at(y,21,()=>I,lt,(K,N)=>{var Y=Fa(),Ce=a(Y,!0);t(Y);var Te={};T(()=>{f(Ce,e(N).code==="all"?e(N).name:`${e(N).flag} ${e(N).code} - ${e(N).name}`),Te!==(Te=e(N).code)&&(Y.value=(Y.__value=e(N).code)??"")}),n(K,Y)}),t(y);var C;Wt(y),t(h);var Z=r(h,2),b=r(a(Z),2);b.__change=K=>o.onChange({...o.filters,paymentMethod:K.currentTarget.value}),at(b,21,()=>R,lt,(K,N)=>{var Y=Ia(),Ce=a(Y);t(Y);var Te={};T(()=>{f(Ce,`${e(N).icon??""} ${e(N).name??""}`),Te!==(Te=e(N).id)&&(Y.value=(Y.__value=e(N).id)??"")}),n(K,Y)}),t(b);var q;Wt(b),t(Z);var _=r(Z,2),p=r(a(_),2);p.__change=K=>o.onChange({...o.filters,orderType:K.currentTarget.value});var d=a(p);d.value=d.__value="all";var k=r(d);k.value=k.__value="buy";var Q=r(k);Q.value=Q.__value="sell",t(p);var pe;Wt(p),t(_);var W=r(_,2),x=r(a(W),2),Pe=a(x);Ut(Pe),Pe.__input=K=>o.onChange({...o.filters,minAmount:parseInt(K.currentTarget.value)||0});var ee=r(Pe,4);Ut(ee),ee.__input=K=>o.onChange({...o.filters,maxAmount:parseInt(K.currentTarget.value)||1e6}),t(x),t(W),t($),T(()=>{C!==(C=o.filters.currency)&&(y.value=(y.__value=o.filters.currency)??"",Xt(y,o.filters.currency)),q!==(q=o.filters.paymentMethod)&&(b.value=(b.__value=o.filters.paymentMethod)??"",Xt(b,o.filters.paymentMethod)),pe!==(pe=o.filters.orderType)&&(p.value=(p.__value=o.filters.orderType)??"",Xt(p,o.filters.orderType)),or(Pe,o.filters.minAmount),or(ee,o.filters.maxAmount)}),n(xe,$),Mt()}Qt(["change","input"]);const Na=xe=>{var o=Ha(),I=a(o),R=a(I),$=r(a(R),2);{var h=y=>{var C=Ea();C.__click=()=>jt.open(),n(y,C)};A($,y=>{it.$currentUser&&y(h)})}t(R),t(I),t(o),n(xe,o)};var Ea=c('<button class="flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg> <span>Create Order</span></button>'),Ha=c('<div class="border-b border-border sticky top-0 z-20 bg-background"><div class="px-4 sm:px-6 lg:px-8 py-3"><div class="flex items-center justify-between"><div><h1 class="text-2xl font-bold text-foreground">P2P Trading</h1> <p class="text-sm text-neutral-400 mt-1">Buy and sell Bitcoin directly</p></div> <!></div></div></div>'),Va=c('<div class="p-3 lg:p-4 bg-card rounded-lg border border-border"><div class="flex items-center gap-2 mb-3 lg:mb-4"><svg class="w-4 h-4 lg:w-5 lg:h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"></path></svg> <h2 class="text-base lg:text-lg font-semibold text-foreground">Filters</h2></div> <!></div>'),Ga=c('<div class="px-4 sm:px-6 lg:px-8 py-6"><!></div> <!>',1);function yo(xe,o){Ct(o,!0);const I=()=>wr(Pr,"$page",R),[R,$]=kr(),h=p=>{var d=Va(),k=r(a(d),2);Oa(k,{get filters(){return e(y)},onChange:C}),t(d),n(p,d)},y=S(()=>({currency:I().url.searchParams.get("currency")||"all",paymentMethod:I().url.searchParams.get("paymentMethod")||"all",orderType:I().url.searchParams.get("orderType")||"all",minAmount:parseInt(I().url.searchParams.get("minAmount")||"0"),maxAmount:parseInt(I().url.searchParams.get("maxAmount")||"1000000")}));function C(p){const d=new URLSearchParams;p.currency!=="all"&&d.set("currency",p.currency),p.paymentMethod!=="all"&&d.set("paymentMethod",p.paymentMethod),p.orderType!=="all"&&d.set("orderType",p.orderType),p.minAmount>0&&d.set("minAmount",p.minAmount.toString()),p.maxAmount<1e6&&d.set("maxAmount",p.maxAmount.toString());const k=d.toString();Cr(`/trades${k?`?${k}`:""}`,{replaceState:!0})}Tt(()=>(tr.header=Na,Jt.rightSidebar=h,Jt.showOnMobile=!0,()=>{tr.clear(),Jt.clear()}));var Z=Ga(),b=U(Z),q=a(b);ra(q,{get filters(){return e(y)}}),t(b);var _=r(b,2);Ta(_,{get onClose(){return jt.close},get open(){return jt.show},set open(p){jt.show=p}}),n(xe,Z),Mt(),$()}Qt(["click"]);export{yo as component};
