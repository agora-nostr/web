const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/GmDUFCKq.js","../chunks/PPVm8Dsz.js","../chunks/tv6-RHC_.js","../chunks/AsQG98fS.js","../chunks/D2z4-Wxa.js"])))=>i.map(i=>d[i]);
import{f as _,s as D,a as l,d as ze,t as ge,c as xe}from"../chunks/rzUyzf2y.js";import{p as ke,e as s,r as a,y as ye,t as T,g as e,a as fe,c as we,b as y,d as i,z as Te,s as t,u as Pe,f as oe}from"../chunks/AsQG98fS.js";import{i as g}from"../chunks/DZKExFZC.js";import{n as Ie,O as We}from"../chunks/tv6-RHC_.js";import{h as Ae}from"../chunks/BVrYKRgp.js";import{r as Ee,c as qe,a as Ne,f as Le}from"../chunks/CS0aOiUg.js";import{b as Ce}from"../chunks/DF8Bk5Sh.js";import{e as Qe,i as Ue}from"../chunks/Cztbr3Ea.js";import{Q as Ve}from"../chunks/DrqcFPa-.js";import{_ as je}from"../chunks/PPVm8Dsz.js";import{p as Se}from"../chunks/w-gpJwMz.js";var Ge=_('<div class="balance-card svelte-1ygu8nw"><div class="balance-amount svelte-1ygu8nw"><span class="amount gradient-text svelte-1ygu8nw"> </span> <span class="unit svelte-1ygu8nw">sats</span></div></div>');function He(V,F){ke(F,!0);const u=Ie.$wallet,C=fe(()=>u.balance||0);function x(M){return new Intl.NumberFormat("en-US").format(M)}var f=Ge(),p=s(f),v=s(p),z=s(v,!0);a(v),ye(2),a(p),a(f),T(M=>D(z,M),[()=>x(e(C))]),l(V,f),we()}var Oe=_('<div class="error-message svelte-1xzoagx"> </div>'),Je=_(`<div class="send-form svelte-1xzoagx"><div class="form-section svelte-1xzoagx"><label for="amount" class="svelte-1xzoagx">Amount</label> <div class="amount-input-group svelte-1xzoagx"><input id="amount" type="number" placeholder="0" min="1" class="svelte-1xzoagx"/> <span class="amount-unit svelte-1xzoagx">sats</span></div> <div class="balance-info svelte-1xzoagx"> </div></div> <div class="form-section svelte-1xzoagx"><label for="memo" class="svelte-1xzoagx">Memo (optional)</label> <textarea id="memo" placeholder="What's this for?" class="svelte-1xzoagx"></textarea></div> <!> <button class="primary svelte-1xzoagx"><!></button></div>`),Ke=_('<div class="memo-display svelte-1xzoagx"><strong>Memo:</strong> </div>'),Xe=_('<div class="token-result svelte-1xzoagx"><div class="success-icon svelte-1xzoagx">‚úì</div> <h3 class="svelte-1xzoagx">Token Generated!</h3> <p class="success-message svelte-1xzoagx"> </p> <div class="token-display svelte-1xzoagx"><div class="token-text svelte-1xzoagx"> </div> <button class="copy-button svelte-1xzoagx">üìã Copy</button></div> <!> <div class="actions svelte-1xzoagx"><button class="primary svelte-1xzoagx">Send Another</button></div></div>'),Ye=_('<div class="send-view svelte-1xzoagx"><!></div>');function Ze(V,F){ke(F,!0);const u=Ie.$wallet;let C=y(""),x=y(""),f=y(""),p=y(!1),v=y(null),z=y("");const M=fe(()=>u.balance||0),R=fe(()=>Number(e(C))||0),te=fe(()=>e(R)>0&&e(R)<=e(M)&&!e(p));function J(d){return new Intl.NumberFormat("en-US").format(d)}async function b(){if(e(te)){t(p,!0),t(z,"");try{t(v,await u.send(e(R),e(x)||void 0),!0)}catch(d){t(z,d.message||"Failed to send",!0),console.error(d)}finally{t(p,!1)}}}function B(){e(v)&&navigator.clipboard.writeText(e(v))}function j(){t(C,""),t(x,""),t(f,""),t(v,null),t(z,"")}var q=Ye(),Z=s(q);{var L=d=>{var S=Je(),A=s(S),o=i(s(A),2),n=s(o);Ee(n),ye(2),a(o);var r=i(o,2),m=s(r);a(r),a(A);var k=i(A,2),w=i(s(k),2);Te(w),a(k);var W=i(k,2);{var G=h=>{var H=Oe(),re=s(H,!0);a(H),T(()=>D(re,e(z))),l(h,H)};g(W,h=>{e(z)&&h(G)})}var K=i(W,2);K.__click=b;var U=s(K);{var ue=h=>{var H=ge("Generating Token...");l(h,H)},X=h=>{var H=ge("Generate Token");l(h,H)};g(U,h=>{e(p)?h(ue):h(X,!1)})}a(K),a(S),T(h=>{qe(n,"max",e(M)),D(m,`Available: ${h??""} sats`),K.disabled=!e(te)},[()=>J(e(M))]),Ce(n,()=>e(C),h=>t(C,h)),Ce(w,()=>e(x),h=>t(x,h)),l(d,S)},c=d=>{var S=Xe(),A=i(s(S),4),o=s(A);a(A);var n=i(A,2),r=s(n),m=s(r,!0);a(r);var k=i(r,2);k.__click=B,a(n);var w=i(n,2);{var W=U=>{var ue=Ke(),X=i(s(ue));a(ue),T(()=>D(X,` ${e(x)??""}`)),l(U,ue)};g(w,U=>{e(x)&&U(W)})}var G=i(w,2),K=s(G);K.__click=j,a(G),a(S),T(U=>{D(o,`${U??""} sats ready to send`),D(m,e(v))},[()=>J(e(R))]),l(d,S)};g(Z,d=>{e(v)?d(c,!1):d(L)})}a(q),l(V,q),we()}ze(["click"]);var $e=_('<div class="success-screen svelte-ts5u1i"><div class="success-backdrop svelte-ts5u1i"></div> <div class="success-content svelte-ts5u1i"><div class="success-ring svelte-ts5u1i"><div class="success-checkmark svelte-ts5u1i">‚úì</div></div> <h3 class="success-title svelte-ts5u1i">Payment Received!</h3> <p class="success-amount svelte-ts5u1i"> </p> <button class="primary svelte-ts5u1i">Continue</button></div></div>'),et=_('<div class="error-message svelte-ts5u1i"> </div>'),tt=_('<div class="tab-content svelte-ts5u1i"><div class="form-section svelte-ts5u1i"><label for="token" class="svelte-ts5u1i">Cashu Token</label> <textarea id="token" placeholder="Paste cashu token here..." rows="6" class="svelte-ts5u1i"></textarea> <p class="hint svelte-ts5u1i">Paste a cashu token to redeem it into your wallet</p></div> <!> <button class="primary svelte-ts5u1i"><!></button></div>'),at=_('<option class="svelte-ts5u1i"> </option>'),st=_('<p class="hint svelte-ts5u1i">No mints configured in your wallet</p>'),nt=_('<div class="error-message svelte-ts5u1i"> </div>'),it=_('<div class="form-section svelte-ts5u1i"><label for="mint" class="svelte-ts5u1i">Select Mint</label> <select id="mint" class="svelte-ts5u1i"></select> <!></div> <div class="form-section svelte-ts5u1i"><label for="amount" class="svelte-ts5u1i">Amount (sats)</label> <div class="amount-input-group svelte-ts5u1i"><input id="amount" type="number" placeholder="100" min="1" class="svelte-ts5u1i"/> <span class="amount-unit svelte-ts5u1i">sats</span></div> <div class="preset-buttons svelte-ts5u1i"><button type="button" class="preset-btn svelte-ts5u1i">1k</button> <button type="button" class="preset-btn svelte-ts5u1i">5k</button> <button type="button" class="preset-btn svelte-ts5u1i">10k</button> <button type="button" class="preset-btn svelte-ts5u1i">21k</button> <button type="button" class="preset-btn svelte-ts5u1i">100k</button></div></div> <!> <button class="primary svelte-ts5u1i"><!></button>',1),ot=_('<div class="qr-container svelte-ts5u1i"><div class="qr-wrapper svelte-ts5u1i"><!></div></div> <div class="invoice-box svelte-ts5u1i"><label class="svelte-ts5u1i">Invoice String</label> <div class="invoice-text svelte-ts5u1i"> </div> <button class="copy-button svelte-ts5u1i"><span class="copy-icon svelte-ts5u1i">üìã</span> Copy Invoice</button></div> <div class="waiting-status svelte-ts5u1i"><div class="spinner svelte-ts5u1i"></div> <p class="svelte-ts5u1i">Waiting for payment...</p></div>',1),rt=_('<div class="error-message svelte-ts5u1i"> </div>'),lt=_('<div class="quote-display svelte-ts5u1i"><h4 class="svelte-ts5u1i">Lightning Invoice</h4> <p class="quote-amount svelte-ts5u1i"> </p> <!> <div class="quote-actions svelte-ts5u1i"><button class="svelte-ts5u1i">Cancel</button></div> <!></div>'),vt=_('<div class="tab-content svelte-ts5u1i"><!></div>'),ct=_('<div class="tabs svelte-ts5u1i"><button>Deposit</button> <button>Paste Token</button></div> <!>',1),ut=_('<div class="receive-view svelte-ts5u1i"><!></div>');function dt(V,F){ke(F,!0);const u=Ie.$wallet;let C=y("mint"),x=y(""),f=y(""),p=y(!1),v=y(""),z=y(null),M=y(null),R=y(null),te=y(!1),J=fe(()=>u.mints?.map(n=>typeof n=="string"?n:n.url)||[]),b=y("");Pe(()=>{e(J).length>0&&!e(b)&&t(b,e(J)[0],!0)});async function B(){if(e(x).trim()){t(p,!0),t(v,"");try{await u.receiveToken(e(x).trim()),t(z,{amount:0},!0),t(x,"")}catch(n){t(v,n.message||"Failed to receive token",!0),console.error(n)}finally{t(p,!1)}}}async function j(){const n=Number(e(f));if(!(!n||n<=0)){if(!e(b)){t(v,"No mint selected");return}t(p,!0),t(v,"");try{const r=u.deposit(n,e(b));if(!r)throw new Error("Failed to create deposit request");t(M,r,!0),r.on("success",()=>{t(z,{amount:n},!0),t(f,""),t(M,null),t(R,null),t(te,!1),t(p,!1)}),r.on("error",k=>{t(v,k.message||"Deposit failed",!0),t(te,!1),t(p,!1)});const m=await r.start();t(R,m,!0)}catch(r){t(v,r.message||"Failed to create mint request",!0),console.error(r)}finally{t(p,!1)}}}function q(n){t(f,n.toString(),!0)}function Z(){e(R)&&navigator.clipboard.writeText(e(R))}function L(){t(M,null),t(R,null),t(te,!1),t(v,"")}function c(){t(z,null),t(v,"")}var d=ut(),S=s(d);{var A=n=>{var r=$e(),m=i(s(r),2),k=i(s(m),4),w=s(k);a(k);var W=i(k,2);W.__click=c,a(m),a(r),T(G=>D(w,`${G??""} sats`),[()=>new Intl.NumberFormat("en-US").format(e(z).amount)]),l(n,r)},o=n=>{var r=ct(),m=oe(r),k=s(m);k.__click=()=>t(C,"mint");let w;var W=i(k,2);W.__click=()=>t(C,"paste");let G;a(m);var K=i(m,2);{var U=X=>{var h=tt(),H=s(h),re=i(s(H),2);Te(re),ye(2),a(H);var pe=i(H,2);{var ae=N=>{var Q=et(),ce=s(Q,!0);a(Q),T(()=>D(ce,e(v))),l(N,Q)};g(pe,N=>{e(v)&&N(ae)})}var $=i(pe,2);$.__click=B;var se=s($);{var le=N=>{var Q=ge("Processing...");l(N,Q)},ve=N=>{var Q=ge("Redeem Token");l(N,Q)};g(se,N=>{e(p)?N(le):N(ve,!1)})}a($),a(h),T(N=>$.disabled=N,[()=>!e(x).trim()||e(p)]),Ce(re,()=>e(x),N=>t(x,N)),l(X,h)},ue=X=>{var h=vt(),H=s(h);{var re=ae=>{var $=it(),se=oe($),le=i(s(se),2);Qe(le,21,()=>e(J),Ue,(I,ee)=>{var _e=at(),Fe=s(_e,!0);a(_e);var Re={};T(()=>{D(Fe,e(ee)),Re!==(Re=e(ee))&&(_e.value=(_e.__value=e(ee))??"")}),l(I,_e)}),a(le);var ve=i(le,2);{var N=I=>{var ee=st();l(I,ee)};g(ve,I=>{e(J).length===0&&I(N)})}a(se);var Q=i(se,2),ce=i(s(Q),2),be=s(ce);Ee(be),ye(2),a(ce);var me=i(ce,2),Y=s(me);Y.__click=()=>q(1e3);var P=i(Y,2);P.__click=()=>q(5e3);var E=i(P,2);E.__click=()=>q(1e4);var O=i(E,2);O.__click=()=>q(21e3);var ne=i(O,2);ne.__click=()=>q(1e5),a(me),a(Q);var ie=i(Q,2);{var de=I=>{var ee=nt(),_e=s(ee,!0);a(ee),T(()=>D(_e,e(v))),l(I,ee)};g(ie,I=>{e(v)&&I(de)})}var he=i(ie,2);he.__click=j;var De=s(he);{var Me=I=>{var ee=ge("Creating Deposit...");l(I,ee)},Be=I=>{var ee=ge("Create Deposit");l(I,ee)};g(De,I=>{e(p)?I(Me):I(Be,!1)})}a(he),T(I=>he.disabled=I,[()=>!e(f)||Number(e(f))<=0||!e(b)||e(p)]),Le(le,()=>e(b),I=>t(b,I)),Ce(be,()=>e(f),I=>t(f,I)),l(ae,$)},pe=ae=>{var $=lt(),se=i(s($),2),le=s(se);a(se);var ve=i(se,2);{var N=Y=>{var P=ot(),E=oe(P),O=s(E),ne=s(O);{let Me=fe(()=>e(R).toUpperCase());Ve(ne,{get value(){return e(Me)},size:280})}a(O),a(E);var ie=i(E,2),de=i(s(ie),2),he=s(de,!0);a(de);var De=i(de,2);De.__click=Z,a(ie),ye(2),T(()=>D(he,e(R))),l(Y,P)};g(ve,Y=>{e(R)&&Y(N)})}var Q=i(ve,2),ce=s(Q);ce.__click=L,a(Q);var be=i(Q,2);{var me=Y=>{var P=rt(),E=s(P,!0);a(P),T(()=>D(E,e(v))),l(Y,P)};g(be,Y=>{e(v)&&Y(me)})}a($),T(Y=>D(le,`${Y??""} sats`),[()=>Number(e(f)).toLocaleString()]),l(ae,$)};g(H,ae=>{e(M)?ae(pe,!1):ae(re)})}a(h),l(X,h)};g(K,X=>{e(C)==="paste"?X(U):X(ue,!1)})}T(()=>{w=Ne(k,1,"svelte-ts5u1i",null,w,{active:e(C)==="mint"}),G=Ne(W,1,"svelte-ts5u1i",null,G,{active:e(C)==="paste"})}),l(n,r)};g(S,n=>{e(z)?n(A):n(o,!1)})}a(d),l(V,d),we()}ze(["click"]);var pt=_('<div class="error-overlay svelte-121oowb"><div class="error-content svelte-121oowb"><div class="error-icon svelte-121oowb">‚ö†Ô∏è</div> <p class="error-message svelte-121oowb"> </p> <button class="button-primary svelte-121oowb">Close</button></div></div>'),_t=_('<div class="scanner-overlay svelte-121oowb"><div class="scanner-frame svelte-121oowb"><div class="corner top-left svelte-121oowb"></div> <div class="corner top-right svelte-121oowb"></div> <div class="corner bottom-left svelte-121oowb"></div> <div class="corner bottom-right svelte-121oowb"></div></div> <div class="scanner-instructions svelte-121oowb"><p>Position QR code within the frame</p></div> <button class="cancel-button svelte-121oowb">Cancel</button></div>'),ft=_('<div class="paste-input-container svelte-121oowb"><textarea placeholder="Paste lightning invoice here..." rows="3" class="paste-input svelte-121oowb"></textarea> <div class="paste-actions svelte-121oowb"><button class="button-secondary svelte-121oowb">Cancel</button> <button class="button-primary svelte-121oowb">Continue</button></div></div>'),bt=_('<button class="paste-button svelte-121oowb"><svg class="paste-icon svelte-121oowb" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg> Paste Invoice</button>'),mt=_('<div class="scanner-container svelte-121oowb"><!> <!> <div class="paste-section svelte-121oowb"><!></div></div>');function ht(V,F){ke(F,!0);let u=Se(F,"onScan",11,()=>{}),C=Se(F,"onCancel",11,()=>{}),x=y(!1),f=y(null),p=y(""),v=y(!1);async function z(){try{document.body.style.background="transparent",document.documentElement.style.background="transparent",t(x,!0),t(f,null);const{CapacitorBarcodeScanner:o}=await je(async()=>{const{CapacitorBarcodeScanner:r}=await import("../chunks/GmDUFCKq.js").then(m=>m.i);return{CapacitorBarcodeScanner:r}},__vite__mapDeps([0,1,2,3,4]),import.meta.url),n=await o.scanBarcode({hint:17,scanInstructions:"",scanButton:!1,scanText:""});n&&n.ScanResult&&R(n.ScanResult)}catch(o){t(f,o instanceof Error?o.message:String(o),!0),console.error("Scan error:",o)}finally{M()}}function M(){document?.body&&(document.body.style.background="",document.documentElement.style.background=""),t(x,!1)}function R(o){const n=o.trim().toLowerCase().startsWith("lightning:")?o.trim().substring(10):o.trim();u()(n)}function te(){e(p).trim()&&(R(e(p)),t(p,""),t(v,!1))}async function J(){try{const o=await navigator.clipboard.readText();o&&(t(p,o,!0),t(v,!0))}catch{t(v,!0)}}function b(){M(),C()()}Pe(()=>(z(),()=>{M()}));var B=mt(),j=s(B);{var q=o=>{var n=pt(),r=s(n),m=i(s(r),2),k=s(m,!0);a(m);var w=i(m,2);w.__click=b,a(r),a(n),T(()=>D(k,e(f))),l(o,n)};g(j,o=>{e(f)&&o(q)})}var Z=i(j,2);{var L=o=>{var n=_t(),r=i(s(n),4);r.__click=b,a(n),l(o,n)};g(Z,o=>{e(x)&&o(L)})}var c=i(Z,2),d=s(c);{var S=o=>{var n=ft(),r=s(n);Te(r);var m=i(r,2),k=s(m);k.__click=()=>t(v,!1);var w=i(k,2);w.__click=te,a(m),a(n),T(W=>w.disabled=W,[()=>!e(p).trim()]),Ce(r,()=>e(p),W=>t(p,W)),l(o,n)},A=o=>{var n=bt();n.__click=J,l(o,n)};g(d,o=>{e(v)?o(S):o(A,!1)})}a(c),a(B),l(V,B),we()}ze(["click"]);var gt=_('<div class="invoice-error svelte-1kcpsh9"><div class="error-icon svelte-1kcpsh9">‚ö†Ô∏è</div> <h3 class="svelte-1kcpsh9">Invalid Invoice</h3> <p class="error-message svelte-1kcpsh9"> </p> <button class="button-secondary svelte-1kcpsh9">Go Back</button></div>'),xt=_('<div class="detail-row svelte-1kcpsh9"><span class="detail-label svelte-1kcpsh9">Payment Hash</span> <span class="detail-value monospace svelte-1kcpsh9"> </span></div>'),kt=_('<button class="button-secondary full-width svelte-1kcpsh9">Close</button>'),wt=_('<button class="button-secondary svelte-1kcpsh9">Cancel</button> <button class="button-primary svelte-1kcpsh9"> </button>',1),yt=_('<div class="invoice-details svelte-1kcpsh9"><div class="invoice-header svelte-1kcpsh9"><div class="amount-section"><div class="amount-label svelte-1kcpsh9">Amount</div> <div class="amount-value svelte-1kcpsh9"> </div></div></div> <div class="details-section svelte-1kcpsh9"><div class="detail-row svelte-1kcpsh9"><span class="detail-label svelte-1kcpsh9">Description</span> <span class="detail-value svelte-1kcpsh9"> </span></div> <div class="detail-row svelte-1kcpsh9"><span class="detail-label svelte-1kcpsh9">Created</span> <span class="detail-value svelte-1kcpsh9"> </span></div> <div class="detail-row svelte-1kcpsh9"><span class="detail-label svelte-1kcpsh9">Expires in</span> <span> </span></div> <!></div> <div class="invoice-string svelte-1kcpsh9"><div class="invoice-label svelte-1kcpsh9">Invoice</div> <div class="invoice-text svelte-1kcpsh9"> </div></div> <div class="actions svelte-1kcpsh9"><!></div></div>'),St=_('<div class="loading svelte-1kcpsh9"><div class="spinner svelte-1kcpsh9"></div> <p class="svelte-1kcpsh9">Decoding invoice...</p></div>');function Ct(V,F){ke(F,!0);let u=Se(F,"invoice",11,""),C=Se(F,"onPay",11,()=>{}),x=Se(F,"onCancel",11,()=>{}),f=y(null),p=y(null);Pe(()=>{if(u())try{const c=u().trim().toLowerCase().startsWith("lightning:")?u().trim().substring(10):u().trim();t(f,We.decode(c),!0),t(p,null)}catch(c){t(p,c instanceof Error?c.message:"Invalid lightning invoice",!0),t(f,null)}});function v(c){return e(f)?.sections?.find(d=>d.name===c)}function z(){const c=v("amount");if(!c?.value)return"No amount specified";const d=Math.floor(Number(c.value)/1e3);return`${new Intl.NumberFormat("en-US").format(d)} sats`}function M(){const c=v("timestamp");return c?.value?new Date(c.value*1e3).toLocaleString():"N/A"}function R(){const c=v("timestamp"),d=v("expiry");if(!c?.value||!d?.value)return"N/A";const S=new Date((c.value+d.value)*1e3),A=new Date;if(S<A)return"Expired";const o=S.getTime()-A.getTime(),n=Math.floor(o/6e4),r=Math.floor(n/60);return r>24?`${Math.floor(r/24)} days`:r>0?`${r} hours`:`${n} minutes`}function te(){return v("description")?.value||"No description"}function J(){return v("payment_hash")?.value||""}function b(){e(f)&&u()&&C()(u())}const B=fe(()=>()=>{const c=v("timestamp"),d=v("expiry");return!c?.value||!d?.value?!1:(c.value+d.value)*1e3<Date.now()});var j=xe(),q=oe(j);{var Z=c=>{var d=gt(),S=i(s(d),4),A=s(S,!0);a(S);var o=i(S,2);o.__click=function(...n){x()?.apply(this,n)},a(d),T(()=>D(A,e(p))),l(c,d)},L=c=>{var d=xe(),S=oe(d);{var A=n=>{var r=yt(),m=s(r),k=s(m),w=i(s(k),2),W=s(w,!0);a(w),a(k),a(m);var G=i(m,2),K=s(G),U=i(s(K),2),ue=s(U,!0);a(U),a(K);var X=i(K,2),h=i(s(X),2),H=s(h,!0);a(h),a(X);var re=i(X,2),pe=i(s(re),2);let ae;var $=s(pe,!0);a(pe),a(re);var se=i(re,2);{var le=P=>{var E=xt(),O=i(s(E),2),ne=s(O);a(O),a(E),T(ie=>D(ne,`${ie??""}...`),[()=>J().substring(0,16)]),l(P,E)};g(se,P=>{J()&&P(le)})}a(G);var ve=i(G,2),N=i(s(ve),2),Q=s(N,!0);a(N),a(ve);var ce=i(ve,2),be=s(ce);{var me=P=>{var E=kt();E.__click=function(...O){x()?.apply(this,O)},l(P,E)},Y=P=>{var E=wt(),O=oe(E);O.__click=function(...de){x()?.apply(this,de)};var ne=i(O,2);ne.__click=b;var ie=s(ne);a(ne),T(de=>D(ie,`Pay ${de??""}`),[z]),l(P,E)};g(be,P=>{e(B)()?P(me):P(Y,!1)})}a(ce),a(r),T((P,E,O,ne,ie)=>{D(W,P),D(ue,E),D(H,O),ae=Ne(pe,1,"detail-value svelte-1kcpsh9",null,ae,ne),D($,ie),D(Q,u())},[z,te,M,()=>({expired:e(B)()}),R]),l(n,r)},o=n=>{var r=St();l(n,r)};g(S,n=>{e(f)?n(A):n(o,!1)},!0)}l(c,d)};g(q,c=>{e(p)?c(Z):c(L,!1)})}l(V,j),we()}ze(["click"]);const zt=V=>{var F=Pt();l(V,F)};var Pt=_('<a href="/settings?tab=wallet" class="inline-flex items-center justify-center p-2 rounded-lg hover:bg-muted transition-colors text-foreground"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></a>'),It=_('<div class="balance-section svelte-1chnlgf"><!></div> <div class="action-buttons svelte-1chnlgf"><button class="action-btn send svelte-1chnlgf"><span class="action-icon svelte-1chnlgf">‚Üë</span> <span class="action-label svelte-1chnlgf">Send</span></button> <button class="action-btn scan svelte-1chnlgf"><svg class="action-icon-svg svelte-1chnlgf" fill="none" stroke="currentColor" viewBox="0 0 24 24"><rect x="4" y="4" width="6" height="6" stroke="currentColor" stroke-width="2" fill="none" rx="1"></rect><rect x="14" y="4" width="6" height="6" stroke="currentColor" stroke-width="2" fill="none" rx="1"></rect><rect x="4" y="14" width="6" height="6" stroke="currentColor" stroke-width="2" fill="none" rx="1"></rect><rect x="14" y="14" width="6" height="6" stroke="currentColor" stroke-width="2" fill="none" rx="1"></rect></svg> <span class="action-label svelte-1chnlgf">Scan QR</span></button> <button class="action-btn receive svelte-1chnlgf"><span class="action-icon svelte-1chnlgf">‚Üì</span> <span class="action-label svelte-1chnlgf">Receive</span></button></div>',1),Dt=_('<div class="wallet-container svelte-1chnlgf"><div class="wallet-content svelte-1chnlgf"><!></div></div>');function Mt(V,F){ke(F,!0);let u=y("wallet"),C=y("");function x(b){t(C,b,!0),t(u,"invoice")}function f(){t(u,"wallet"),t(C,"")}async function p(b){try{await Ie.$wallet.lnPay({pr:b}),t(u,"wallet"),t(C,"")}catch(B){throw console.error("Payment failed:",B),B}}function v(){t(u,"wallet"),t(C,"")}Pe(()=>{const b=e(u)==="wallet"?"Wallet":e(u)==="send"||e(u)==="scan"?"Send":e(u)==="invoice"?"Payment Details":e(u)==="receive"?"Receive":"Wallet";return Ae.headerConfig={title:b,backNav:e(u)!=="wallet"?{onclick:()=>t(u,"wallet")}:void 0,actions:e(u)==="wallet"?zt:void 0},()=>{Ae.clear()}});var z=Dt(),M=s(z),R=s(M);{var te=b=>{var B=It(),j=oe(B),q=s(j);He(q,{}),a(j);var Z=i(j,2),L=s(Z);L.__click=()=>t(u,"send");var c=i(L,2);c.__click=()=>t(u,"scan");var d=i(c,2);d.__click=()=>t(u,"receive"),a(Z),l(b,B)},J=b=>{var B=xe(),j=oe(B);{var q=L=>{Ze(L,{})},Z=L=>{var c=xe(),d=oe(c);{var S=o=>{ht(o,{onScan:x,onCancel:f})},A=o=>{var n=xe(),r=oe(n);{var m=w=>{Ct(w,{get invoice(){return e(C)},onPay:p,onCancel:v})},k=w=>{var W=xe(),G=oe(W);{var K=U=>{dt(U,{})};g(G,U=>{e(u)==="receive"&&U(K)},!0)}l(w,W)};g(r,w=>{e(u)==="invoice"?w(m):w(k,!1)},!0)}l(o,n)};g(d,o=>{e(u)==="scan"?o(S):o(A,!1)},!0)}l(L,c)};g(j,L=>{e(u)==="send"?L(q):L(Z,!1)},!0)}l(b,B)};g(R,b=>{e(u)==="wallet"?b(te):b(J,!1)})}a(M),a(z),l(V,z),we()}ze(["click"]);function Ut(V){Mt(V,{})}export{Ut as component};
