import"../chunks/DsnmJJEf.js";import{d as ut,p as Xe,i as f,f as A,j as r,s as v,b as Q,g as e,a as E,e as o,h as Ze,k as a,L as se,r as t,t as F,l as $,u as Te,c as Ue,P as pr,aO as fr,aP as lt,M as ge,K as Tt,O as gr}from"../chunks/Bq750rDx.js";import{i as w}from"../chunks/BcjopvHb.js";import{e as st}from"../chunks/Cjcfrngr.js";import{c as ve}from"../chunks/BRAzWB6r.js";import{c as dt,b as $t,r as rt,a as Ye}from"../chunks/uSFILAY7.js";import{s as jt,a as wt}from"../chunks/wxUnewq1.js";import{p as mr}from"../chunks/CFwZN-iQ.js";import{n as U,x as Ot,f as Kt,h as hr,A as br,N as Et,d as _r}from"../chunks/CdRP5_sk.js";import{N as Ft}from"../chunks/CPZq7sH0.js";import{A as _t}from"../chunks/Bt6DpIqu.js";import{E as xr}from"../chunks/DIzqhxA9.js";import{F as kr}from"../chunks/YxVSQae_.js";import{g as Ct}from"../chunks/C88829DE.js";import{t as at}from"../chunks/8lBcLtWK.js";import{$ as St}from"../chunks/L2joq6-K.js";import{c as ot,L as it}from"../chunks/DseJecSJ.js";import{a as yr}from"../chunks/D2qeXkoa.js";import{I as bt}from"../chunks/BrZTJthz.js";import{f as wr}from"../chunks/CR7Fa_Et.js";import{g as Pr}from"../chunks/DOhHcjXC.js";import{p as xt,b as Ht}from"../chunks/BL6J_geM.js";import{M as Wt,b as Gt,c as Qt,d as Yt,R as Xt,e as Zt,f as Jt,g as qt,h as er}from"../chunks/Dw4s2o4Z.js";import{Q as Dt}from"../chunks/CJsQn0O-.js";import{D as tr}from"../chunks/DtjL0N-6.js";import{B as Ne}from"../chunks/DMhdcQZj.js";import{A as Mr,M as Cr}from"../chunks/CK7OhTnQ.js";import{E as rr}from"../chunks/BumDDlbV.js";import{H as $r}from"../chunks/_MORhMiq.js";import{g as jr}from"../chunks/Bmh-1GHY.js";import{g as Sr}from"../chunks/DAOE6Nme.js";import{C as Ur}from"../chunks/DS87H1fr.js";import{b as Je}from"../chunks/BTSVJW8r.js";import{c as It,N as zr}from"../chunks/wiMjQwcH.js";import{D as Lr,a as Br}from"../chunks/C7FVrkeR.js";import{l as Rt}from"../chunks/D0qakMUX.js";var Nr=f('<button class="w-full px-4 py-2.5 text-left text-sm text-muted-foreground hover:bg-muted transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-between gap-2"><span class="truncate"> </span> <!></button>'),Ar=f('<div class="border-t border-border mt-1 pt-1"><div class="px-4 py-2 text-xs text-muted-foreground font-medium"> </div> <!></div>'),Or=f('<div class="absolute right-0 mt-2 w-64 bg-popover border border-border rounded-lg shadow-xl overflow-hidden z-50"><div class="py-1"><button class="w-full px-4 py-3 text-left text-sm text-muted-foreground hover:bg-muted transition-colors flex items-center gap-3"><!> Send Message</button> <div class="border-t border-border my-1"></div> <button class="w-full px-4 py-3 text-left text-sm text-muted-foreground hover:bg-muted transition-colors flex items-center gap-3"><!> </button> <button class="w-full px-4 py-3 text-left text-sm text-muted-foreground hover:bg-muted transition-colors flex items-center gap-3"><!> </button> <div class="border-t border-border my-1"></div> <button class="w-full px-4 py-3 text-left text-sm text-muted-foreground hover:bg-muted transition-colors flex items-center gap-3"><!> </button> <!></div></div>'),Er=f("<!> <!>",1);function Fr(_e,i){Xe(i,!0);const D=()=>wt(St,"$t",k),[k,h]=jt(),H=E(()=>new Ot({pubkey:i.pubkey})),C=ot(U,()=>U.$currentUser?.pubkey?{filters:[{kinds:[39089,39092],authors:[U.$currentUser.pubkey],limit:100}]}:void 0,{initialLimit:100,pageSize:100}),y=U.$subscribe(()=>U.$currentUser?.pubkey?{filters:[{kinds:[1e4],authors:[U.$currentUser.pubkey],limit:1}],bufferMs:100}:void 0),P=E(()=>C.events.map(c=>({id:c.id||"",title:c.tagValue("title")||"Untitled Pack",pubkeys:c.tags.filter(g=>g[0]==="p").map(g=>g[1])}))),m=E(()=>{const c=y.events[0];return c?c.tags.some(g=>g[0]==="p"&&g[1]===i.pubkey):!1});let b=Q(!1);async function V(c){if(!i.pubkey)return;const g=C.events.find(L=>L.id===c);if(g)try{if(g.tags.filter(j=>j[0]==="p").map(j=>j[1]).includes(i.pubkey))return;if(g.tags.push(["p",i.pubkey]),await g.sign(),await g.publishReplaceable(),g.publishStatus==="error"){const W=g.publishError?.relayErrors||{},J=Object.entries(W).map(([ne,xe])=>`${ne}: ${xe}`).join(`
`);at.error(`Failed to publish:
${J||"Unknown error"}`);return}at.success("Added to pack"),i.onClose()}catch(L){console.error("Failed to add to pack:",L),at.error(`Failed to add to pack: ${L instanceof Error?L.message:"Unknown error"}`)}}async function n(){if(U.$currentUser?.pubkey)try{let c=y.events[0];if(c||(c=new Kt(U),c.kind=1e4,c.content="",c.tags=[]),e(m)?(c.tags=c.tags.filter(g=>!(g[0]==="p"&&g[1]===i.pubkey)),at.success("User unmuted")):(c.tags.push(["p",i.pubkey]),at.success("User muted")),await c.sign(),await c.publishReplaceable(),c.publishStatus==="error"){const L=c.publishError?.relayErrors||{},j=Object.entries(L).map(([W,J])=>`${W}: ${J}`).join(`
`);at.error(`Failed to publish:
${j||"Unknown error"}`);return}i.onClose()}catch(c){console.error("Failed to toggle mute:",c),at.error(`Failed to ${e(m)?"unmute":"mute"} user: ${c instanceof Error?c.message:"Unknown error"}`)}}function Z(){i.onClose(),i.onOpenCreatePack()}function B(){v(b,!0),i.onClose()}function ye(){const c=new Ot({pubkey:i.pubkey});Ct(`/messages/${c.npub}`),i.onClose()}var N=Er(),T=A(N);{var ee=c=>{var g=Or(),L=a(g),j=a(L);j.__click=ye;var W=a(j);bt(W,{name:"message",size:"md",class:"text-primary"}),se(),t(j);var J=r(j,4);J.__click=n;var ne=a(J);{let re=E(()=>e(m)?"speaker":"speaker-muted");bt(ne,{get name(){return e(re)},size:"md",class:"text-red-500"})}var xe=r(ne);t(J);var Ae=r(J,2);Ae.__click=B;var ze=a(Ae);bt(ze,{name:"alert",size:"md",class:"text-yellow-500"});var Oe=r(ze);t(Ae);var ie=r(Ae,4);ie.__click=Z;var me=a(ie);bt(me,{name:"plus",size:"md",class:"text-primary"});var je=r(me);t(ie);var te=r(ie,2);{var Ee=re=>{var we=Ar(),Pe=a(we),De=a(Pe,!0);t(Pe);var le=r(Pe,2);st(le,17,()=>e(P),q=>q.id,(q,Y)=>{const he=E(()=>e(Y).pubkeys.includes(i.pubkey));var pe=Nr();pe.__click=()=>V(e(Y).id);var de=a(pe),ue=a(de,!0);t(de);var be=r(de,2);{var ke=Me=>{bt(Me,{name:"check",size:"sm",class:"text-green-500 flex-shrink-0"})};w(be,Me=>{e(he)&&Me(ke)})}t(pe),F(()=>{pe.disabled=e(he),$(ue,e(Y).title)}),o(q,pe)}),t(we),F(q=>$(De,q),[()=>D()("followPacks.addToExisting")]),o(re,we)};w(te,re=>{e(P).length>0&&re(Ee)})}t(L),t(g),F((re,we,Pe)=>{$(xe,` ${re??""}`),$(Oe,` ${we??""}`),$(je,` ${Pe??""}`)},[()=>e(m)?D()("userDropdown.unmute"):D()("userDropdown.mute"),()=>D()("userDropdown.report"),()=>D()("followPacks.createNew")]),o(c,g)};w(T,c=>{i.isOpen&&c(ee)})}var G=r(T,2);yr(G,{get target(){return e(H)},get open(){return e(b)},onClose:()=>v(b,!1)}),o(_e,N),Ze(),h()}ut(["click"]);var Hr=f('<a class="inline-flex items-center gap-2.5 px-3 py-2 rounded-lg bg-card border border-border hover:bg-muted/50 transition-colors text-sm group"><div class="flex items-center gap-2"><svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> <!></div> <span class="text-gray-400 group-hover:text-gray-300 transition-colors">Invited by <span class="font-medium text-gray-200"> </span></span></a>');function Dr(_e,i){Xe(i,!0);const D=U.$subscribe(()=>i.pubkey?{filters:[{kinds:[wr],authors:[i.pubkey],limit:1}],bufferMs:100}:void 0),k=E(()=>D.events[0]),h=E(()=>{if(e(k))return e(k).tags.find(b=>b[0]==="p")?.[1]});let H=Q(void 0),C=Q(null);Te(()=>{if(!e(h)){v(H,void 0),v(C,null);return}U.fetchUser(e(h)).then(b=>{v(H,b,!0),b?.fetchProfile().then(V=>{v(C,V,!0)})})});var y=Ue(),P=A(y);{var m=b=>{var V=Hr(),n=a(V),Z=r(a(n),2);_t(Z,{get ndk(){return U},get pubkey(){return e(h)},size:"xs",class:"w-6 h-6 rounded-full"}),t(n);var B=r(n,2),ye=r(a(B)),N=a(ye,!0);t(ye),t(B),t(V),F(()=>{dt(V,"href",`/p/${e(H).npub}`),$(N,e(C)?.name||e(C)?.displayName||"Anonymous")}),o(b,V)};w(P,b=>{e(h)&&e(H)?.pubkey&&b(m)})}o(_e,y),Ze()}var Ir=f('<img alt="Banner" class="w-full h-full object-cover"/>'),Rr=f('<button class="p-1 text-muted-foreground hover:text-muted-foreground transition-colors" aria-label="Share profile"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path></svg></button>'),Vr=f('<button class="px-4 py-2 rounded-full font-medium transition-colors bg-primary text-foreground hover:bg-primary-700 text-sm"><svg class="w-4 h-4 mr-2 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg> </button>'),Tr=f('<div class="relative" data-user-dropdown=""><button class="p-2 rounded-full border border text-muted-foreground hover:bg-muted transition-colors" aria-label="More options"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button> <!></div>'),Kr=f('<div class="mb-4"><!></div>'),Wr=f('<a target="_blank" rel="noopener noreferrer" class="flex items-center gap-1 hover:text-primary"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg> <span> </span></a>'),Gr=f('<div class="bg-background border-b border-border"><div class="h-48 sm:h-64 relative"><!></div> <div class="px-4 sm:px-6 pb-4 relative z-10"><div class="flex gap-4 items-start -mt-12 sm:-mt-20 mb-4"><div class="shrink-0"><!></div> <div class="flex-1 mt-13 sm:mt-20 min-w-0"><div class="flex items-start justify-between gap-4 flex-wrap"><div class="flex-1 min-w-0"><h1 class="text-xl sm:text-2xl font-bold text-foreground"> </h1> <div class="flex items-center gap-2 mt-1"><p class="text-muted-foreground"> </p> <!></div> <div class="mt-2"><!></div></div> <div class="flex items-center gap-2"><!> <!></div></div></div></div> <!> <div class="flex flex-wrap gap-4 text-sm text-muted-foreground"><!></div> <div class="flex gap-6 mt-4"><div><span class="font-semibold text-foreground"> </span> <span class="text-muted-foreground ml-1"> </span></div> <div><span class="font-semibold text-foreground"> </span> <span class="text-muted-foreground ml-1"> </span></div></div></div></div>');function Qr(_e,i){Xe(i,!0);const D=()=>wt(St,"$t",k),[k,h]=jt();let H=Q(null),C=Q(null);Te(()=>{if(!i.pubkey){v(H,null),v(C,null);return}U.fetchUser(i.pubkey).then(n=>{v(H,n,!0),n?.fetchProfile().then(Z=>{v(C,Z,!0)})})});let y=Q(!1);function P(n){n.target.closest("[data-user-dropdown]")||v(y,!1)}var m=Ue();pr("click",fr,P);var b=A(m);{var V=n=>{var Z=Gr(),B=a(Z),ye=a(B);{var N=d=>{var u=Ir();F(()=>dt(u,"src",e(C).banner)),o(d,u)};w(ye,d=>{e(C)?.banner&&d(N)})}t(B);var T=r(B,2),ee=a(T),G=a(ee),c=a(G);_t(c,{get ndk(){return U},get pubkey(){return i.pubkey},size:"sm",class:"w-24 h-24 sm:w-48 sm:h-48 rounded-full border-4 border-black"}),t(G);var g=r(G,2),L=a(g),j=a(L),W=a(j),J=a(W,!0);t(W);var ne=r(W,2),xe=a(ne),Ae=a(xe,!0);t(xe);var ze=r(xe,2);{var Oe=d=>{var u=Rr();u.__click=function(...S){i.onShareProfile?.apply(this,S)},o(d,u)};w(ze,d=>{i.onShareProfile&&d(Oe)})}t(ne);var ie=r(ne,2),me=a(ie);Dr(me,{get pubkey(){return i.pubkey}}),t(ie),t(j);var je=r(j,2),te=a(je);{var Ee=d=>{var u=Vr();u.__click=function(...I){i.onEditProfile?.apply(this,I)};var S=r(a(u));t(u),F(I=>$(S,` ${I??""}`),[()=>D()("profile.editProfile")]),o(d,u)},re=d=>{kr(d,{get pubkey(){return i.pubkey},variant:"primary",showIcon:!1,class:"px-4 py-2 rounded-full font-medium transition-colors bg-accent text-accent-foreground hover:bg-accent/90 text-sm"})};w(te,d=>{i.isOwnProfile&&i.onEditProfile?d(Ee):d(re,!1)})}var we=r(te,2);{var Pe=d=>{var u=Tr(),S=a(u);S.__click=R=>{R.stopPropagation(),v(y,!e(y))};var I=r(S,2);Fr(I,{get pubkey(){return i.pubkey},get isOpen(){return e(y)},onClose:()=>v(y,!1),get onOpenCreatePack(){return i.onOpenCreatePack}}),t(u),o(d,u)};w(we,d=>{!i.isOwnProfile&&U.$currentUser&&i.onOpenCreatePack&&d(Pe)})}t(je),t(L),t(g),t(ee);var De=r(ee,2);{var le=d=>{var u=Kr(),S=a(u);xr(S,{get content(){return e(C).about},class:"text-muted-foreground"}),t(u),o(d,u)};w(De,d=>{e(C)?.about&&d(le)})}var q=r(De,2),Y=a(q);{var he=d=>{var u=Wr(),S=r(a(u),2),I=a(S,!0);t(S),t(u),F(R=>{dt(u,"href",e(C).website),$(I,R)},[()=>e(C).website.replace(/^https?:\/\//,"")]),o(d,u)};w(Y,d=>{e(C)?.website&&d(he)})}t(q);var pe=r(q,2),de=a(pe),ue=a(de),be=a(ue,!0);t(ue);var ke=r(ue,2),Me=a(ke,!0);t(ke),t(de);var Ce=r(de,2),Fe=a(Ce),Ie=a(Fe,!0);t(Fe);var z=r(Fe,2),x=a(z,!0);t(z),t(Ce),t(pe),t(T),t(Z),F((d,u,S,I)=>{$t(B,d),$(J,e(C)?.name||"Anonymous"),$(Ae,u),$(be,i.notesCount),$(Me,S),$(Ie,i.followingCount),$(x,I)},[()=>e(C)?.banner?"":`background: ${Pr(i.pubkey)}`,()=>e(C)?.nip05?`@${e(C).nip05.split("@")[0]}`:`${i.pubkey.slice(0,12)}...`,()=>D()("profile.tabs.notes"),()=>D()("profile.following")]),o(n,Z)};w(b,n=>{i.pubkey&&n(V)})}o(_e,m),Ze(),h()}ut(["click"]);var Yr=f('<p class="text-foreground/80 text-sm"> </p>'),Xr=ge('<svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>'),Zr=ge('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>'),Jr=f('<span class="text-sm font-medium"> </span> <!>',1),qr=ge('<svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>'),ea=ge('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>'),ta=f('<span class="text-sm font-medium">Copy npub</span> <!>',1),ra=ge('<svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.149-.67.149-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"></path></svg> WhatsApp',1),aa=ge('<svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg> X',1),oa=ge('<svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="currentColor"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"></path></svg> Telegram',1),sa=ge('<svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg> Facebook',1),na=ge('<svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path></svg> More Options',1),ia=f('<!> <div class="space-y-4"><div class="bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl p-6 mb-6"><div class="flex flex-col items-center text-foreground"><div class="relative mb-4"><!></div> <h3 class="text-xl font-bold mb-1"> </h3> <!></div></div> <div class="flex justify-center mb-6"><!></div> <div class="space-y-3"><!> <!></div> <div class="space-y-2"><p class="text-sm text-muted-foreground">Share on:</p> <div class="grid grid-cols-2 gap-3"><!> <!> <!> <!></div> <!></div></div>',1),la=f('<p class="text-foreground/80 text-sm"> </p>'),da=ge('<svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>'),ua=ge('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>'),ca=f('<span class="text-sm font-medium"> </span> <!>',1),va=ge('<svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>'),pa=ge('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>'),fa=f('<span class="text-sm font-medium">Copy npub</span> <!>',1),ga=ge('<svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.149-.67.149-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"></path></svg> WhatsApp',1),ma=ge('<svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg> X',1),ha=ge('<svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="currentColor"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"></path></svg> Telegram',1),ba=ge('<svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg> Facebook',1),_a=ge('<svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path></svg> More Options',1),xa=f('<button type="button" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-background shadow-xs hover:bg-accent hover:text-accent-foreground border h-9 px-4 py-2 w-full">Close</button>'),ka=f('<!> <div class="space-y-4 px-4"><div class="bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl p-6 mb-6"><div class="flex flex-col items-center text-foreground"><div class="relative mb-4"><!></div> <h3 class="text-xl font-bold mb-1"> </h3> <!></div></div> <div class="flex justify-center mb-6"><!></div> <div class="space-y-3"><!> <!></div> <div class="space-y-2"><p class="text-sm text-muted-foreground">Share on:</p> <div class="grid grid-cols-2 gap-3"><!> <!> <!> <!></div> <!></div></div> <!>',1);function ya(_e,i){Xe(i,!0);let D=xt(i,"isOpen",15);const k=new Wt("(min-width: 768px)");let h=Q(null);Te(()=>{U.fetchUser(i.pubkey).then(N=>{N?.fetchProfile().then(T=>{v(h,T,!0)})})});let H=Q(!1),C=Q(!1);const y=`https://njump.me/${i.npub}`,P=E(()=>`Find me on Nostr: ${y}`);async function m(N,T){await navigator.clipboard.writeText(N),T==="url"?(v(H,!0),setTimeout(()=>v(H,!1),2e3)):(v(C,!0),setTimeout(()=>v(C,!1),2e3))}function b(N){const T=encodeURIComponent(e(P)),ee=encodeURIComponent(y),G={whatsapp:`https://wa.me/?text=${T}`,twitter:`https://twitter.com/intent/tweet?text=${T}`,telegram:`https://t.me/share/url?url=${ee}&text=${encodeURIComponent("Find me on Nostr")}`,facebook:`https://www.facebook.com/sharer/sharer.php?u=${ee}`};window.open(G[N],"_blank")}async function V(){if(navigator.share)try{await navigator.share({title:`${e(h)?.name||"Anonymous"} on Nostr`,text:"Find me on Nostr",url:y})}catch(N){console.error("Error sharing:",N)}}var n=Ue(),Z=A(n);{var B=N=>{var T=Ue(),ee=A(T);ve(ee,()=>Xt,(G,c)=>{c(G,{get open(){return D()},onOpenChange:g=>{D(g),g||i.onClose()},children:(g,L)=>{var j=Ue(),W=A(j);ve(W,()=>Gt,(J,ne)=>{ne(J,{class:"max-w-md",children:(xe,Ae)=>{var ze=ia(),Oe=A(ze);ve(Oe,()=>Qt,(z,x)=>{x(z,{children:(d,u)=>{var S=Ue(),I=A(S);ve(I,()=>Yt,(R,s)=>{s(R,{children:(p,_)=>{se();var O=lt("Share Profile");o(p,O)},$$slots:{default:!0}})}),o(d,S)},$$slots:{default:!0}})});var ie=r(Oe,2),me=a(ie),je=a(me),te=a(je),Ee=a(te);_t(Ee,{get ndk(){return U},get pubkey(){return i.pubkey},class:"w-20 h-20 ring-4 ring-white/20"}),t(te);var re=r(te,2),we=a(re,!0);t(re);var Pe=r(re,2);{var De=z=>{var x=Yr(),d=a(x);t(x),F(u=>$(d,`@${u??""}`),[()=>e(h).nip05.split("@")[0]]),o(z,x)};w(Pe,z=>{e(h)?.nip05&&z(De)})}t(je),t(me);var le=r(me,2),q=a(le);Dt(q,{get value(){return y},size:200}),t(le);var Y=r(le,2),he=a(Y);Ne(he,{variant:"outline",onclick:()=>m(y,"url"),class:"w-full justify-between",children:(z,x)=>{var d=Jr(),u=A(d),S=a(u);t(u);var I=r(u,2);{var R=p=>{var _=Xr();o(p,_)},s=p=>{var _=Zr();o(p,_)};w(I,p=>{e(H)?p(R):p(s,!1)})}F(p=>$(S,`njump.me/${p??""}...`),[()=>i.npub.slice(0,8)]),o(z,d)},$$slots:{default:!0}});var pe=r(he,2);Ne(pe,{variant:"outline",onclick:()=>m(i.npub,"npub"),class:"w-full justify-between",children:(z,x)=>{var d=ta(),u=r(A(d),2);{var S=R=>{var s=qr();o(R,s)},I=R=>{var s=ea();o(R,s)};w(u,R=>{e(C)?R(S):R(I,!1)})}o(z,d)},$$slots:{default:!0}}),t(Y);var de=r(Y,2),ue=r(a(de),2),be=a(ue);Ne(be,{onclick:()=>b("whatsapp"),class:"bg-green-500 hover:bg-green-600 text-white dark:text-white",children:(z,x)=>{var d=ra();se(),o(z,d)},$$slots:{default:!0}});var ke=r(be,2);Ne(ke,{variant:"outline",onclick:()=>b("twitter"),children:(z,x)=>{var d=aa();se(),o(z,d)},$$slots:{default:!0}});var Me=r(ke,2);Ne(Me,{onclick:()=>b("telegram"),class:"bg-blue-500 hover:bg-blue-600 text-white dark:text-white",children:(z,x)=>{var d=oa();se(),o(z,d)},$$slots:{default:!0}});var Ce=r(Me,2);Ne(Ce,{onclick:()=>b("facebook"),class:"bg-blue-600 hover:bg-blue-700 text-white dark:text-white",children:(z,x)=>{var d=sa();se(),o(z,d)},$$slots:{default:!0}}),t(ue);var Fe=r(ue,2);{var Ie=z=>{Ne(z,{onclick:V,class:"w-full mt-3",children:(x,d)=>{var u=na();se(),o(x,u)},$$slots:{default:!0}})};w(Fe,z=>{typeof navigator<"u"&&navigator.share&&z(Ie)})}t(de),t(ie),F(()=>$(we,e(h)?.name||"Anonymous")),o(xe,ze)},$$slots:{default:!0}})}),o(g,j)},$$slots:{default:!0}})}),o(N,T)},ye=N=>{var T=Ue(),ee=A(T);ve(ee,()=>er,(G,c)=>{c(G,{get open(){return D()},onOpenChange:g=>{D(g),g||i.onClose()},children:(g,L)=>{var j=Ue(),W=A(j);ve(W,()=>Zt,(J,ne)=>{ne(J,{children:(xe,Ae)=>{var ze=ka(),Oe=A(ze);ve(Oe,()=>Jt,(x,d)=>{d(x,{class:"text-left",children:(u,S)=>{var I=Ue(),R=A(I);ve(R,()=>qt,(s,p)=>{p(s,{children:(_,O)=>{se();var ct=lt("Share Profile");o(_,ct)},$$slots:{default:!0}})}),o(u,I)},$$slots:{default:!0}})});var ie=r(Oe,2),me=a(ie),je=a(me),te=a(je),Ee=a(te);_t(Ee,{get ndk(){return U},get pubkey(){return i.pubkey},class:"w-20 h-20 ring-4 ring-white/20"}),t(te);var re=r(te,2),we=a(re,!0);t(re);var Pe=r(re,2);{var De=x=>{var d=la(),u=a(d);t(d),F(S=>$(u,`@${S??""}`),[()=>e(h).nip05.split("@")[0]]),o(x,d)};w(Pe,x=>{e(h)?.nip05&&x(De)})}t(je),t(me);var le=r(me,2),q=a(le);Dt(q,{get value(){return y},size:200}),t(le);var Y=r(le,2),he=a(Y);Ne(he,{variant:"outline",onclick:()=>m(y,"url"),class:"w-full justify-between",children:(x,d)=>{var u=ca(),S=A(u),I=a(S);t(S);var R=r(S,2);{var s=_=>{var O=da();o(_,O)},p=_=>{var O=ua();o(_,O)};w(R,_=>{e(H)?_(s):_(p,!1)})}F(_=>$(I,`njump.me/${_??""}...`),[()=>i.npub.slice(0,8)]),o(x,u)},$$slots:{default:!0}});var pe=r(he,2);Ne(pe,{variant:"outline",onclick:()=>m(i.npub,"npub"),class:"w-full justify-between",children:(x,d)=>{var u=fa(),S=r(A(u),2);{var I=s=>{var p=va();o(s,p)},R=s=>{var p=pa();o(s,p)};w(S,s=>{e(C)?s(I):s(R,!1)})}o(x,u)},$$slots:{default:!0}}),t(Y);var de=r(Y,2),ue=r(a(de),2),be=a(ue);Ne(be,{onclick:()=>b("whatsapp"),class:"bg-green-500 hover:bg-green-600 text-white dark:text-white",children:(x,d)=>{var u=ga();se(),o(x,u)},$$slots:{default:!0}});var ke=r(be,2);Ne(ke,{variant:"outline",onclick:()=>b("twitter"),children:(x,d)=>{var u=ma();se(),o(x,u)},$$slots:{default:!0}});var Me=r(ke,2);Ne(Me,{onclick:()=>b("telegram"),class:"bg-blue-500 hover:bg-blue-600 text-white dark:text-white",children:(x,d)=>{var u=ha();se(),o(x,u)},$$slots:{default:!0}});var Ce=r(Me,2);Ne(Ce,{onclick:()=>b("facebook"),class:"bg-blue-600 hover:bg-blue-700 text-white dark:text-white",children:(x,d)=>{var u=ba();se(),o(x,u)},$$slots:{default:!0}}),t(ue);var Fe=r(ue,2);{var Ie=x=>{Ne(x,{onclick:V,class:"w-full mt-3",children:(d,u)=>{var S=_a();se(),o(d,S)},$$slots:{default:!0}})};w(Fe,x=>{typeof navigator<"u"&&navigator.share&&x(Ie)})}t(de),t(ie);var z=r(ie,2);ve(z,()=>tr,(x,d)=>{d(x,{class:"pt-2",children:(u,S)=>{var I=xa();I.__click=()=>{D(!1),i.onClose()},o(u,I)},$$slots:{default:!0}})}),F(()=>$(we,e(h)?.name||"Anonymous")),o(xe,ze)},$$slots:{default:!0}})}),o(g,j)},$$slots:{default:!0}})}),o(N,T)};w(Z,N=>{k.current?N(B):N(ye,!1)})}o(_e,n),Ze()}ut(["click"]);var wa=f('<div class="divide-y divide-neutral-800/50"></div>');function Pa(_e,i){Xe(i,!0);const D=xt(i,"emptyMessage",3,"No articles yet");var k=Ue(),h=A(k);{var H=y=>{rr(y,{icon:"article",get title(){return D()}})},C=y=>{var P=wa();st(P,21,()=>i.articles,m=>m.id,(m,b)=>{Mr(m,{get article(){return e(b)}})}),t(P),o(y,P)};w(h,y=>{i.articles.length===0?y(H):y(C,!1)})}o(_e,k),Ze()}var Ma=f('<div class="divide-y divide-neutral-800/50"></div>');function Ca(_e,i){Xe(i,!0);const D=xt(i,"emptyMessage",3,"No highlights yet");var k=Ue(),h=A(k);{var H=y=>{rr(y,{icon:"highlight",get title(){return D()}})},C=y=>{var P=Ma();st(P,21,()=>i.highlights,m=>m.id,(m,b)=>{$r(m,{get event(){return e(b)}})}),t(P),o(y,P)};w(h,y=>{i.highlights.length===0?y(H):y(C,!1)})}o(_e,k),Ze()}var $a=f('<div class="h-32 w-full"><img class="w-full h-full object-cover"/></div>'),ja=f('<p class="text-sm text-muted-foreground mb-4 line-clamp-2"> </p>'),Sa=f('<button type="button" class="relative cursor-pointer"><!></button>'),Ua=f('<div class="w-8 h-8 rounded-full bg-muted ring-2 ring-neutral-900 flex items-center justify-center"><span class="text-xs text-muted-foreground"> </span></div>'),za=f('<div role="button" tabindex="0" class="block bg-card border border-border rounded-xl overflow-hidden hover:border-border transition-colors group cursor-pointer"><!> <div class="p-5"><div class="mb-4"><h3 class="font-semibold text-foreground group-hover:text-primary transition-colors"> </h3> <p class="text-sm text-muted-foreground mt-1"> </p></div> <!> <div class="flex -space-x-2"><!> <!></div></div></div>');function La(_e,i){Xe(i,!0),xt(i,"variant",3,"default");let D=Q(void 0);Te(()=>{i.pack.author?v(D,i.pack.author,!0):U.fetchUser(i.pack.pubkey).then(c=>{v(D,c,!0)})});const k=E(()=>jr(i.pack,e(D)));function h(){Ct(e(k))}var H=za();H.__click=h,H.__keydown=c=>c.key==="Enter"&&h();var C=a(H);{var y=c=>{var g=$a(),L=a(g);t(g),F(()=>{dt(L,"src",i.pack.image),dt(L,"alt",i.pack.title)}),o(c,g)};w(C,c=>{i.pack.image&&c(y)})}var P=r(C,2),m=a(P),b=a(m),V=a(b,!0);t(b);var n=r(b,2),Z=a(n);t(n),t(m);var B=r(m,2);{var ye=c=>{var g=ja(),L=a(g,!0);t(g),F(()=>$(L,i.pack.description)),o(c,g)};w(B,c=>{i.pack.description&&c(ye)})}var N=r(B,2),T=a(N);st(T,18,()=>i.pack.pubkeys.slice(0,4),c=>c,(c,g,L)=>{var j=Sa();j.__click=J=>{J.stopPropagation(),Ct(Sr(g))};var W=a(j);_t(W,{get ndk(){return U},get pubkey(){return g},class:"w-8 h-8 rounded-full ring-2 ring-neutral-900 hover:opacity-80 transition-opacity"}),t(j),F(()=>$t(j,`z-index: ${4-e(L)}`)),o(c,j)});var ee=r(T,2);{var G=c=>{var g=Ua(),L=a(g),j=a(L);t(L),t(g),F(()=>$(j,`+${i.pack.pubkeys.length-4}`)),o(c,g)};w(ee,c=>{i.pack.pubkeys.length>4&&c(G)})}t(N),t(P),t(H),F(()=>{$(V,i.pack.title),$(Z,`${i.pack.pubkeys.length??""} members`)}),o(_e,H),Ze()}ut(["click","keydown"]);var Ba=f('<div class="bg-green-50 dark:bg-green-950/30 border border-green-200 dark:border-green-800 rounded-lg p-4 flex items-center gap-3"><svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> <span class="text-sm font-medium text-green-800 dark:text-green-200">Profile updated successfully!</span></div>'),Na=f('<div class="bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-center gap-3"><svg class="w-5 h-5 text-red-600 dark:text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span class="text-sm font-medium text-red-800 dark:text-red-200"> </span></div>'),Aa=f('<div class="w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin"></div> <span class="text-foreground text-sm font-medium"> </span>',1),Oa=f('<svg class="w-10 h-10 text-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> <span class="text-foreground text-sm font-medium">Click to upload banner</span>',1),Ea=f('<img alt="Profile" class="w-full h-full object-cover"/>'),Fa=f('<span class="text-foreground text-2xl font-bold"> </span>'),Ha=f('<div class="flex flex-col items-center gap-1"><div class="w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"></div> <span class="text-foreground text-xs"> </span></div>'),Da=ge('<svg class="w-8 h-8 text-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>'),Ia=f('<div class="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></div> <span>Saving...</span>',1),Ra=f("<span>Save Profile</span>"),Va=f('<div class="flex justify-end pt-4"><button type="button" class="px-6 py-3 bg-primary hover:bg-accent-dark text-foreground font-medium rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"><!></button></div>'),Ta=f('<div class="max-w-2xl mx-auto space-y-8"><!> <!> <div class="space-y-2"><label class="block text-sm font-medium text-foreground">Banner Image</label> <input type="file" accept="image/*" class="hidden"/> <button type="button" class="w-full h-48 rounded-xl overflow-hidden relative group bg-gradient-to-br from-primary-500 to-primary-600 hover:opacity-90 transition-opacity"><div class="absolute inset-0 bg-background/40 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center gap-2"><!></div></button></div> <div class="space-y-2"><label class="block text-sm font-medium text-foreground">Profile Picture</label> <input type="file" accept="image/*" class="hidden"/> <div class="flex items-center gap-4"><button type="button" class="w-24 h-24 rounded-full overflow-hidden relative group bg-gradient-to-br from-primary-500 to-primary-600 hover:ring-4 hover:ring-orange-500/20 transition-all flex items-center justify-center"><!> <div class="absolute inset-0 bg-background/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"><!></div></button> <div class="flex-1"><input type="url" placeholder="Or paste image URL" class="w-full px-4 py-2 rounded-lg border border bg-card text-foreground placeholder-neutral-500 focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all"/></div></div></div> <div class="space-y-2"><label for="name" class="block text-sm font-medium text-foreground">Name</label> <input id="name" type="text" placeholder="Satoshi Nakamoto" class="w-full px-4 py-2 rounded-lg border border bg-card text-foreground placeholder-neutral-500 focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all"/></div> <div class="space-y-2"><label for="displayName" class="block text-sm font-medium text-foreground">Display Name <span class="text-muted-foreground text-xs font-normal">(optional)</span></label> <input id="displayName" type="text" placeholder="satoshi" class="w-full px-4 py-2 rounded-lg border border bg-card text-foreground placeholder-neutral-500 focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all"/></div> <div class="space-y-2"><label for="about-textarea" class="block text-sm font-medium text-foreground">About</label> <textarea id="about-textarea" placeholder="Tell the world about yourself..." rows="5" class="w-full px-4 py-3 rounded-lg border border bg-card text-foreground placeholder-neutral-500 resize-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all"></textarea></div> <div class="space-y-2"><label for="nip05" class="block text-sm font-medium text-foreground">NIP-05 Verification <span class="text-muted-foreground text-xs font-normal">(optional)</span></label> <input id="nip05" type="text" placeholder="name@domain.com" class="w-full px-4 py-2 rounded-lg border border bg-card text-foreground placeholder-neutral-500 focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all"/></div> <div class="space-y-2"><label for="lud16" class="block text-sm font-medium text-foreground">Lightning Address <span class="text-muted-foreground text-xs font-normal">(optional)</span></label> <input id="lud16" type="text" placeholder="name@getalby.com" class="w-full px-4 py-2 rounded-lg border border bg-card text-foreground placeholder-neutral-500 focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all"/></div> <div class="space-y-2"><label for="website" class="block text-sm font-medium text-foreground">Website <span class="text-muted-foreground text-xs font-normal">(optional)</span></label> <input id="website" type="url" placeholder="https://example.com" class="w-full px-4 py-2 rounded-lg border border bg-card text-foreground placeholder-neutral-500 focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all"/></div> <div class="space-y-2"><label for="hashtags" class="block text-sm font-medium text-foreground">Interest Hashtags <span class="text-muted-foreground text-xs font-normal">(optional)</span></label> <input id="hashtags" type="text" placeholder="bitcoin, nostr, freedom (comma-separated)" class="w-full px-4 py-2 rounded-lg border border bg-card text-foreground placeholder-neutral-500 focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all"/> <p class="text-xs text-muted-foreground">Add hashtags that describe your interests. Separate multiple tags with commas.</p></div> <!></div>');function Vt(_e,i){Xe(i,!0);let D=xt(i,"hideSubmitButton",3,!1),k=E(()=>U.$currentUser),h=Q(null);Te(()=>{const s=e(k)?.pubkey;if(!s){v(h,null);return}U.fetchUser(s).then(p=>{p?.fetchProfile().then(_=>{v(h,_,!0)})})});let H=Q(null);Te(()=>{if(!e(k)?.pubkey){v(H,null);return}U.fetchEvent({kinds:[0],authors:[e(k).pubkey]}).then(s=>{v(H,s||null,!0)})});let C=Q(!1),y=Q(!1),P=Q(null),m=E(()=>e(k)?new zr(U):null),b=E(()=>e(m)?It(e(m)):null),V=E(()=>e(m)?It(e(m)):null),n=Q(Tt({name:e(h)?.name||"",displayName:e(h)?.displayName||"",about:e(h)?.about||"",picture:e(h)?.image||"",banner:e(h)?.banner||"",nip05:e(h)?.nip05||"",lud16:e(h)?.lud16||"",website:e(h)?.website||"",hashtags:""}));Te(()=>{if(e(h).name||e(h).displayName||e(h).about||e(h).image||e(h).banner){const s=e(H)?.tags?.filter(p=>p[0]==="t")?.map(p=>p[1])?.join(", ")||"";v(n,{name:e(h).name||"",displayName:e(h).displayName||"",about:e(h).about||"",picture:e(h).image||"",banner:e(h).banner||"",nip05:e(h).nip05||"",lud16:e(h).lud16||"",website:e(h).website||"",hashtags:s},!0)}}),Te(()=>{i.onSubmit&&i.onSubmit(T)}),Te(()=>{if(i.onFormStateChange){const s=e(b)?.status==="uploading"||e(V)?.status==="uploading";i.onFormStateChange({isSubmitting:e(C),isUploading:s})}});let Z,B;async function ye(s){const _=s.target.files?.[0];if(_){if(!e(b)){v(P,"Upload not available. Please ensure you are logged in.");return}if(!_.type.startsWith("image/")){v(P,"Please select an image file");return}v(P,null);try{const O={fallbackServer:"https://blossom.primal.net"};console.log("Calling pictureUpload.upload with options:",O),await e(b).upload(_,O),e(b).result?.url&&(e(n).picture=e(b).result.url)}catch(O){console.error("Upload failed:",O),v(P,"Failed to upload image. Please try again.")}}}async function N(s){const _=s.target.files?.[0];if(_){if(!e(V)){v(P,"Upload not available. Please ensure you are logged in.");return}if(!_.type.startsWith("image/")){v(P,"Please select an image file");return}if(_.size>5*1024*1024){v(P,"Image size must be less than 5MB");return}v(P,null);try{await e(V).upload(_,{fallbackServer:"https://blossom.primal.net"}),e(V).result?.url&&(e(n).banner=e(V).result.url)}catch(O){console.error("Upload failed:",O),v(P,"Failed to upload banner. Please try again.")}}}async function T(){if(!U.signer){v(P,"No signer available");return}v(C,!0),v(P,null),v(y,!1);try{const s=new Kt(U);if(s.kind=0,s.content=JSON.stringify({name:e(n).name,display_name:e(n).displayName,about:e(n).about,picture:e(n).picture,banner:e(n).banner,nip05:e(n).nip05,lud16:e(n).lud16,website:e(n).website}),e(n).hashtags.trim()){const _=e(n).hashtags.split(",").map(O=>O.trim().toLowerCase()).filter(O=>O.length>0);s.tags=_.map(O=>["t",O])}await s.publishReplaceable();const p=hr.fromRelayUrls(["wss://purplepag.es/",...br],U);s.publishReplaceable(p),v(y,!0),setTimeout(()=>v(y,!1),3e3)}catch(s){console.error("Failed to save profile:",s),v(P,"Failed to save profile. Please try again.")}finally{v(C,!1)}}function ee(s){return s?s.split(" ").map(p=>p[0]).join("").toUpperCase().slice(0,2):"?"}var G=Ta(),c=a(G);{var g=s=>{var p=Ba();o(s,p)};w(c,s=>{e(y)&&s(g)})}var L=r(c,2);{var j=s=>{var p=Na(),_=r(a(p),2),O=a(_,!0);t(_),t(p),F(()=>$(O,e(P))),o(s,p)};w(L,s=>{e(P)&&s(j)})}var W=r(L,2),J=r(a(W),2);J.__change=N,Ht(J,s=>B=s,()=>B);var ne=r(J,2);ne.__click=()=>B?.click();var xe=a(ne),Ae=a(xe);{var ze=s=>{var p=Aa(),_=r(A(p),2),O=a(_);t(_),F(()=>$(O,`${e(V).progress?.percentage??""}%`)),o(s,p)},Oe=s=>{var p=Oa();se(2),o(s,p)};w(Ae,s=>{e(V)?.status==="uploading"?s(ze):s(Oe,!1)})}t(xe),t(ne),t(W);var ie=r(W,2),me=r(a(ie),2);me.__change=ye,Ht(me,s=>Z=s,()=>Z);var je=r(me,2),te=a(je);te.__click=()=>Z?.click();var Ee=a(te);{var re=s=>{var p=Ea();F(()=>dt(p,"src",e(n).picture)),o(s,p)},we=s=>{var p=Fa(),_=a(p,!0);t(p),F(O=>$(_,O),[()=>ee(e(n).name)]),o(s,p)};w(Ee,s=>{e(n).picture?s(re):s(we,!1)})}var Pe=r(Ee,2),De=a(Pe);{var le=s=>{var p=Ha(),_=r(a(p),2),O=a(_);t(_),t(p),F(()=>$(O,`${e(b).progress?.percentage??""}%`)),o(s,p)},q=s=>{var p=Da();o(s,p)};w(De,s=>{e(b)?.status==="uploading"?s(le):s(q,!1)})}t(Pe),t(te);var Y=r(te,2),he=a(Y);rt(he),t(Y),t(je),t(ie);var pe=r(ie,2),de=r(a(pe),2);rt(de),t(pe);var ue=r(pe,2),be=r(a(ue),2);rt(be),t(ue);var ke=r(ue,2),Me=r(a(ke),2);gr(Me),t(ke);var Ce=r(ke,2),Fe=r(a(Ce),2);rt(Fe),t(Ce);var Ie=r(Ce,2),z=r(a(Ie),2);rt(z),t(Ie);var x=r(Ie,2),d=r(a(x),2);rt(d),t(x);var u=r(x,2),S=r(a(u),2);rt(S),se(2),t(u);var I=r(u,2);{var R=s=>{var p=Va(),_=a(p);_.__click=T;var O=a(_);{var ct=Ke=>{var pt=Ia();se(2),o(Ke,pt)},vt=Ke=>{var pt=Ra();o(Ke,pt)};w(O,Ke=>{e(C)?Ke(ct):Ke(vt,!1)})}t(_),t(p),F(()=>_.disabled=e(C)||e(b)?.status==="uploading"||e(V)?.status==="uploading"),o(s,p)};w(I,s=>{D()||s(R)})}t(G),F(()=>{ne.disabled=e(V)?.status==="uploading",$t(ne,e(n).banner?`background-image: url(${e(n).banner}); background-size: cover; background-position: center;`:""),te.disabled=e(b)?.status==="uploading",he.disabled=e(b)?.status==="uploading"}),Je(he,()=>e(n).picture,s=>e(n).picture=s),Je(de,()=>e(n).name,s=>e(n).name=s),Je(be,()=>e(n).displayName,s=>e(n).displayName=s),Je(Me,()=>e(n).about,s=>e(n).about=s),Je(Fe,()=>e(n).nip05,s=>e(n).nip05=s),Je(z,()=>e(n).lud16,s=>e(n).lud16=s),Je(d,()=>e(n).website,s=>e(n).website=s),Je(S,()=>e(n).hashtags,s=>e(n).hashtags=s),o(_e,G),Ze()}ut(["change","click"]);var Ka=f('<div class="text-center py-8 text-muted-foreground"> </div>'),Wa=f('<div class="divide-y divide-neutral-800/50"></div>'),Ga=f("<!> <!>",1),Qa=f('<div class="text-center py-8 text-muted-foreground"> </div>'),Ya=f('<div class="divide-y divide-neutral-800/50"></div>'),Xa=f("<!> <!>",1),Za=f('<div class="sm:p-4"><!></div> <!>',1),Ja=f("<!> <!>",1),qa=f("<!> <!>",1),eo=f('<div class="grid gap-4 md:grid-cols-2"></div>'),to=f('<div class="text-center py-8 text-muted-foreground"> </div>'),ro=f('<div class="p-4 space-y-4"><div class="flex gap-2 mb-4"><button> </button> <button> </button> <button> </button></div> <!></div> <!>',1),ao=f("<!> <!>",1),oo=f('<!> <div class="py-4"><!></div>',1),so=f("<!> <!>",1),no=f('<div class="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></div> <span>Saving...</span>',1),io=f("<span>Save Profile</span>"),lo=f('<button type="button" class="w-full px-6 py-3 bg-primary hover:bg-accent-dark text-foreground font-medium rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"><!></button>'),uo=f('<!> <div class="overflow-y-auto px-4 pb-4"><!></div> <!>',1),co=f('<div class="w-full"><!> <div class="sticky top-0 z-30 bg-background/80 backdrop-blur-sm border-b border-border"><div class="flex justify-around lg:justify-start px-2 lg:px-4 overflow-x-auto"><button aria-label="Notes"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path></svg> <span class="hidden lg:inline"> </span></button> <button aria-label="Replies"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"></path></svg> <span class="hidden lg:inline"> </span></button> <button aria-label="Media"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> <span class="hidden lg:inline"> </span></button> <button aria-label="Articles"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> <span class="hidden lg:inline"> </span></button> <button aria-label="Highlights"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path></svg> <span class="hidden lg:inline"> </span></button> <button aria-label="Follow Packs"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg> <span class="hidden lg:inline"> </span></button></div></div> <div><!> <!> <!> <!> <!> <!></div> <!> <!> <!></div>');function Qo(_e,i){Xe(i,!0);const D=()=>wt(mr,"$page",h),k=()=>wt(St,"$t",h),[h,H]=jt(),C=E(()=>D().params.identifier);let y=Q(void 0),P=Q(null);Te(()=>{U.fetchUser(e(C)).then(l=>{v(y,l,!0),l?.pubkey&&U.fetchUser(l.pubkey).then(M=>{M?.fetchProfile().then(K=>{v(P,K,!0)})})})});const m=E(()=>e(y)?.pubkey),b=E(()=>U.$currentPubkey===e(m)),V=new Wt("(min-width: 768px)");let n=Q("notes"),Z=Q(!1),B=Q("all"),ye=Q(!1),N=Q(!1),T=Q(null),ee=Q(Tt({isSubmitting:!1,isUploading:!1}));const G=ot(U,()=>e(m)?{filters:[{kinds:[Et.Text],authors:[e(m)],limit:200}]}:void 0,{initialLimit:20,pageSize:20}),c=ot(U,()=>e(n)==="media"&&e(m)?{filters:[{kinds:[20,21,22],authors:[e(m)],limit:200}]}:void 0,{initialLimit:30,pageSize:30}),g=ot(U,()=>e(n)==="articles"&&e(m)?{filters:[{kinds:[Et.Article],authors:[e(m)],limit:100}]}:void 0,{initialLimit:10,pageSize:10}),L=ot(U,()=>e(n)==="highlights"&&e(m)?{filters:[{kinds:[9802],authors:[e(m)],limit:100}]}:void 0,{initialLimit:10,pageSize:10}),j=ot(U,()=>e(n)==="packs"&&e(m)?{filters:[{kinds:[39089,39092],authors:[e(m)],limit:100}]}:void 0,{initialLimit:20,pageSize:20}),W=ot(U,()=>e(n)==="packs"&&e(m)?{filters:[{kinds:[39089,39092],"#p":[e(m)],limit:100}]}:void 0,{initialLimit:20,pageSize:20}),J=U.$subscribe(()=>e(m)?{filters:[{kinds:[3],authors:[e(m)],limit:1}],bufferMs:100}:void 0),ne=E(()=>{const l=J.events[0];return l?l.tags.filter(M=>M[0]==="p").length:0}),xe=E(()=>G.events.filter(l=>!l.tags.some(M=>M[0]==="e"))),Ae=E(()=>G.events.filter(l=>l.tags.some(M=>M[0]==="e")));function ze(l){return/(https?:\/\/[^\s]+\.(jpg|jpeg|png|gif|webp|svg|avif|mp4|webm|mov|avi|mkv))/gi.test(l)}const Oe=E(()=>G.allEvents.filter(l=>ze(l.content))),ie=E(()=>[...c.events,...e(Oe)]),me=E(()=>g.events.map(l=>_r.from(l))),je=E(()=>L.events),te=E(()=>j.events.map(l=>({id:l.id||"",title:l.tagValue("title")||"Untitled Pack",description:l.tagValue("description"),image:l.tagValue("image"),pubkeys:l.tags.filter(M=>M[0]==="p").map(M=>M[1]),encode:()=>l.encode(),kind:l.kind||39089,pubkey:l.pubkey,created_at:l.created_at||0}))),Ee=E(()=>W.events.map(l=>({id:l.id||"",title:l.tagValue("title")||"Untitled Pack",description:l.tagValue("description"),image:l.tagValue("image"),pubkeys:l.tags.filter(M=>M[0]==="p").map(M=>M[1]),encode:()=>l.encode(),kind:l.kind||39089,pubkey:l.pubkey,created_at:l.created_at||0}))),re=E(()=>[...e(te),...e(Ee)]),we=E(()=>e(B)==="created"?e(te):e(B)==="appears"?e(Ee):e(re)),Pe=E(()=>e(y)?.npub||"");function De(){v(ye,!0)}function le(){e(n)==="notes"||e(n)==="replies"?G.loadMore():e(n)==="media"?c.loadMore():e(n)==="articles"?g.loadMore():e(n)==="highlights"?L.loadMore():e(n)==="packs"&&(e(B)==="created"?j.loadMore():(e(B)==="appears"||j.loadMore(),W.loadMore()))}const q=E(()=>e(n)==="notes"||e(n)==="replies"?G.hasMore:e(n)==="media"?c.hasMore:e(n)==="articles"?g.hasMore:e(n)==="highlights"?L.hasMore:e(n)==="packs"?e(B)==="created"?j.hasMore:e(B)==="appears"?W.hasMore:j.hasMore||W.hasMore:!1),Y=E(()=>e(n)==="notes"||e(n)==="replies"?G.isLoading:e(n)==="media"?c.isLoading:e(n)==="articles"?g.isLoading:e(n)==="highlights"?L.isLoading:e(n)==="packs"?j.isLoading||W.isLoading:!1);Te(()=>(Rt.setProfileMode(),()=>{Rt.reset()}));var he=co(),pe=a(he);Qr(pe,{get pubkey(){return e(m)},get isOwnProfile(){return e(b)},get notesCount(){return G.allEvents.length},get followingCount(){return e(ne)},onEditProfile:()=>v(N,!0),onShareProfile:()=>v(Z,!0),onOpenCreatePack:De});var de=r(pe,2),ue=a(de),be=a(ue);be.__click=()=>v(n,"notes");var ke=r(a(be),2),Me=a(ke,!0);t(ke),t(be);var Ce=r(be,2);Ce.__click=()=>v(n,"replies");var Fe=r(a(Ce),2),Ie=a(Fe,!0);t(Fe),t(Ce);var z=r(Ce,2);z.__click=()=>v(n,"media");var x=r(a(z),2),d=a(x,!0);t(x),t(z);var u=r(z,2);u.__click=()=>v(n,"articles");var S=r(a(u),2),I=a(S,!0);t(S),t(u);var R=r(u,2);R.__click=()=>v(n,"highlights");var s=r(a(R),2),p=a(s,!0);t(s),t(R);var _=r(R,2);_.__click=()=>v(n,"packs");var O=r(a(_),2),ct=a(O,!0);t(O),t(_),t(ue),t(de);var vt=r(de,2),Ke=a(vt);{var pt=l=>{var M=Ga(),K=A(M);{var fe=oe=>{var X=Ka(),ce=a(X,!0);t(X),F(He=>$(ce,He),[()=>k()("profile.emptyStates.noNotes")]),o(oe,X)},ae=oe=>{var X=Wa();st(X,21,()=>e(xe),ce=>ce.id,(ce,He)=>{Ft(ce,{get event(){return e(He)}})}),t(X),o(oe,X)};w(K,oe=>{e(xe).length===0?oe(fe):oe(ae,!1)})}var Se=r(K,2);it(Se,{onIntersect:le,get hasMore(){return e(q)},get isLoading(){return e(Y)}}),o(l,M)};w(Ke,l=>{e(n)==="notes"&&l(pt)})}var Ut=r(Ke,2);{var ar=l=>{var M=Xa(),K=A(M);{var fe=oe=>{var X=Qa(),ce=a(X,!0);t(X),F(He=>$(ce,He),[()=>k()("profile.emptyStates.noReplies")]),o(oe,X)},ae=oe=>{var X=Ya();st(X,21,()=>e(Ae),ce=>ce.id,(ce,He)=>{Ft(ce,{get event(){return e(He)}})}),t(X),o(oe,X)};w(K,oe=>{e(Ae).length===0?oe(fe):oe(ae,!1)})}var Se=r(K,2);it(Se,{onIntersect:le,get hasMore(){return e(q)},get isLoading(){return e(Y)}}),o(l,M)};w(Ut,l=>{e(n)==="replies"&&l(ar)})}var zt=r(Ut,2);{var or=l=>{var M=Za(),K=A(M),fe=a(K);Cr(fe,{get events(){return e(ie)}}),t(K);var ae=r(K,2);it(ae,{onIntersect:le,get hasMore(){return e(q)},get isLoading(){return e(Y)}}),o(l,M)};w(zt,l=>{e(n)==="media"&&l(or)})}var Lt=r(zt,2);{var sr=l=>{var M=Ja(),K=A(M);{let ae=E(()=>e(b)?k()("profile.emptyStates.noArticlesOwn"):k()("profile.emptyStates.noArticlesUser"));Pa(K,{get articles(){return e(me)},get emptyMessage(){return e(ae)}})}var fe=r(K,2);it(fe,{onIntersect:le,get hasMore(){return e(q)},get isLoading(){return e(Y)}}),o(l,M)};w(Lt,l=>{e(n)==="articles"&&l(sr)})}var Bt=r(Lt,2);{var nr=l=>{var M=qa(),K=A(M);{let ae=E(()=>e(b)?k()("profile.emptyStates.noHighlightsOwn"):k()("profile.emptyStates.noHighlightsUser"));Ca(K,{get highlights(){return e(je)},get emptyMessage(){return e(ae)}})}var fe=r(K,2);it(fe,{onIntersect:le,get hasMore(){return e(q)},get isLoading(){return e(Y)}}),o(l,M)};w(Bt,l=>{e(n)==="highlights"&&l(nr)})}var ir=r(Bt,2);{var lr=l=>{var M=ro(),K=A(M),fe=a(K),ae=a(fe);ae.__click=()=>v(B,"all");var Se=a(ae,!0);t(ae);var oe=r(ae,2);oe.__click=()=>v(B,"created");var X=a(oe,!0);t(oe);var ce=r(oe,2);ce.__click=()=>v(B,"appears");var He=a(ce,!0);t(ce),t(fe);var ft=r(fe,2);{var gt=Le=>{var $e=eo();st($e,21,()=>e(we),Re=>Re.id,(Re,et)=>{La(Re,{get pack(){return e(et)},variant:"compact"})}),t($e),o(Le,$e)},Pt=Le=>{var $e=to(),Re=a($e,!0);t($e),F(et=>$(Re,et),[()=>e(B)==="created"?e(b)?k()("profile.emptyStates.noPacksCreatedOwn"):k()("profile.emptyStates.noPacksCreatedUser",{username:e(P)?.name||"user"}):e(B)==="appears"?e(b)?k()("profile.emptyStates.noPacksAppearsOwn"):k()("profile.emptyStates.noPacksAppearsUser",{username:e(P)?.name||"user"}):k()("profile.emptyStates.noPacksFound")]),o(Le,$e)};w(ft,Le=>{e(we).length>0?Le(gt):Le(Pt,!1)})}t(K);var qe=r(K,2);it(qe,{onIntersect:le,get hasMore(){return e(q)},get isLoading(){return e(Y)}}),F((Le,$e,Re)=>{Ye(ae,1,`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${e(B)==="all"?"bg-primary text-foreground":"bg-background text-muted-foreground hover:bg-card"}`),$(Se,Le),Ye(oe,1,`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${e(B)==="created"?"bg-primary text-foreground":"bg-background text-muted-foreground hover:bg-card"}`),$(X,$e),Ye(ce,1,`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${e(B)==="appears"?"bg-primary text-foreground":"bg-background text-muted-foreground hover:bg-card"}`),$(He,Re)},[()=>k()("profile.tabs.all"),()=>e(b)?k()("profile.tabs.byYou"):k()("profile.tabs.byUser",{username:e(P)?.name||e(P)?.displayName||e(m).slice(0,8)}),()=>e(b)?k()("profile.tabs.withYou"):k()("profile.tabs.withUser",{username:e(P)?.name||e(P)?.displayName||e(m).slice(0,8)})]),o(l,M)};w(ir,l=>{e(n)==="packs"&&l(lr)})}t(vt);var Nt=r(vt,2);{var dr=l=>{ya(l,{get isOpen(){return e(Z)},onClose:()=>v(Z,!1),get pubkey(){return e(m)},get npub(){return e(Pe)}})};w(Nt,l=>{e(m)&&l(dr)})}var At=r(Nt,2);Ur(At,{get initialPubkey(){return e(m)},get open(){return e(ye)},set open(l){v(ye,l,!0)}});var ur=r(At,2);{var cr=l=>{var M=Ue(),K=A(M);ve(K,()=>Xt,(fe,ae)=>{ae(fe,{get open(){return e(N)},set open(Se){v(N,Se,!0)},children:(Se,oe)=>{var X=Ue(),ce=A(X);ve(ce,()=>Gt,(He,ft)=>{ft(He,{class:"max-w-2xl max-h-[90vh] overflow-y-auto",onClose:()=>v(N,!1),children:(gt,Pt)=>{var qe=oo(),Le=A(qe);ve(Le,()=>Qt,(et,We)=>{We(et,{children:(mt,kt)=>{var yt=ao(),Ve=A(yt);ve(Ve,()=>Yt,(tt,Ge)=>{Ge(tt,{children:(Be,Qe)=>{se();var ht=lt("Edit Profile");o(Be,ht)},$$slots:{default:!0}})});var nt=r(Ve,2);ve(nt,()=>Lr,(tt,Ge)=>{Ge(tt,{children:(Be,Qe)=>{se();var ht=lt("Update your profile information and settings");o(Be,ht)},$$slots:{default:!0}})}),o(mt,yt)},$$slots:{default:!0}})});var $e=r(Le,2),Re=a($e);Vt(Re,{}),t($e),o(gt,qe)},$$slots:{default:!0}})}),o(Se,X)},$$slots:{default:!0}})}),o(l,M)},vr=l=>{var M=Ue(),K=A(M);ve(K,()=>er,(fe,ae)=>{ae(fe,{get open(){return e(N)},set open(Se){v(N,Se,!0)},children:(Se,oe)=>{var X=Ue(),ce=A(X);ve(ce,()=>Zt,(He,ft)=>{ft(He,{children:(gt,Pt)=>{var qe=uo(),Le=A(qe);ve(Le,()=>Jt,(We,mt)=>{mt(We,{class:"text-left",children:(kt,yt)=>{var Ve=so(),nt=A(Ve);ve(nt,()=>qt,(Ge,Be)=>{Be(Ge,{children:(Qe,ht)=>{se();var Mt=lt("Edit Profile");o(Qe,Mt)},$$slots:{default:!0}})});var tt=r(nt,2);ve(tt,()=>Br,(Ge,Be)=>{Be(Ge,{children:(Qe,ht)=>{se();var Mt=lt("Update your profile information and settings");o(Qe,Mt)},$$slots:{default:!0}})}),o(kt,Ve)},$$slots:{default:!0}})});var $e=r(Le,2),Re=a($e);Vt(Re,{hideSubmitButton:!0,onSubmit:We=>v(T,We,!0),onFormStateChange:We=>v(ee,We,!0)}),t($e);var et=r($e,2);ve(et,()=>tr,(We,mt)=>{mt(We,{class:"pt-2",children:(kt,yt)=>{var Ve=lo();Ve.__click=()=>e(T)?.();var nt=a(Ve);{var tt=Be=>{var Qe=no();se(2),o(Be,Qe)},Ge=Be=>{var Qe=io();o(Be,Qe)};w(nt,Be=>{e(ee).isSubmitting?Be(tt):Be(Ge,!1)})}t(Ve),F(()=>Ve.disabled=e(ee).isSubmitting||e(ee).isUploading),o(kt,Ve)},$$slots:{default:!0}})}),o(gt,qe)},$$slots:{default:!0}})}),o(Se,X)},$$slots:{default:!0}})}),o(l,M)};w(ur,l=>{V.current?l(cr):l(vr,!1)})}t(he),F((l,M,K,fe,ae,Se)=>{Ye(be,1,`flex items-center justify-center lg:justify-start gap-1.5 px-3 lg:px-4 py-3 font-medium whitespace-nowrap ${e(n)==="notes"?"text-primary border-b-2 border-primary":"text-muted-foreground hover:text-muted-foreground"}`),$(Me,l),Ye(Ce,1,`flex items-center justify-center lg:justify-start gap-1.5 px-3 lg:px-4 py-3 font-medium whitespace-nowrap ${e(n)==="replies"?"text-primary border-b-2 border-primary":"text-muted-foreground hover:text-muted-foreground"}`),$(Ie,M),Ye(z,1,`flex items-center justify-center lg:justify-start gap-1.5 px-3 lg:px-4 py-3 font-medium whitespace-nowrap ${e(n)==="media"?"text-primary border-b-2 border-primary":"text-muted-foreground hover:text-muted-foreground"}`),$(d,K),Ye(u,1,`flex items-center justify-center lg:justify-start gap-1.5 px-3 lg:px-4 py-3 font-medium whitespace-nowrap ${e(n)==="articles"?"text-primary border-b-2 border-primary":"text-muted-foreground hover:text-muted-foreground"}`),$(I,fe),Ye(R,1,`flex items-center justify-center lg:justify-start gap-1.5 px-3 lg:px-4 py-3 font-medium whitespace-nowrap ${e(n)==="highlights"?"text-primary border-b-2 border-primary":"text-muted-foreground hover:text-muted-foreground"}`),$(p,ae),Ye(_,1,`flex items-center justify-center lg:justify-start gap-1.5 px-3 lg:px-4 py-3 font-medium whitespace-nowrap ${e(n)==="packs"?"text-primary border-b-2 border-primary":"text-muted-foreground hover:text-muted-foreground"}`),$(ct,Se)},[()=>k()("profile.tabs.notes"),()=>k()("profile.tabs.replies"),()=>k()("profile.tabs.media"),()=>k()("profile.tabs.articles"),()=>k()("profile.tabs.highlights"),()=>k()("profile.tabs.followPacks")]),o(_e,he),Ze(),H()}ut(["click"]);export{Qo as component};
