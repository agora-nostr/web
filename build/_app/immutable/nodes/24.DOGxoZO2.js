const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/DB6jRe9O.js","../chunks/PPVm8Dsz.js","../chunks/CdRP5_sk.js","../chunks/Bq750rDx.js","../chunks/8fKzzJjY.js"])))=>i.map(i=>d[i]);
import"../chunks/DsnmJJEf.js";import{p as ke,i as _,k as s,r as a,L as ye,j as i,g as e,a as _e,t as T,l as N,e as o,h as we,c as be,f as ae,d as Pe,b as S,O as Re,s as t,aP as xe,u as ze}from"../chunks/Bq750rDx.js";import{i as b}from"../chunks/BcjopvHb.js";import{n as Ie,I as Ee,J as Le}from"../chunks/CdRP5_sk.js";import{h as Ae}from"../chunks/jsJqZDHS.js";import{r as Be,c as qe,a as Ne,g as je}from"../chunks/uSFILAY7.js";import{b as Ce}from"../chunks/BTSVJW8r.js";import{e as Qe,i as Ue}from"../chunks/Cjcfrngr.js";import{Q as Ve}from"../chunks/CJsQn0O-.js";import{_ as Ge}from"../chunks/PPVm8Dsz.js";import{p as Se}from"../chunks/BL6J_geM.js";var He=_('<div class="status-badge loading svelte-1ygu8nw"><div class="spinner svelte-1ygu8nw"></div> <span>Loading wallet...</span></div>'),Oe=_('<div class="status-badge error svelte-1ygu8nw">‚ö†Ô∏è Error loading wallet</div>'),Je=_('<div class="balance-card svelte-1ygu8nw"><div class="balance-amount svelte-1ygu8nw"><span class="amount gradient-text svelte-1ygu8nw"> </span> <span class="unit svelte-1ygu8nw">sats</span></div> <!></div>');function Ke(H,L){ke(L,!0);const c=Ie.$wallet,z=_e(()=>c.balance||0),g=_e(()=>c.status===Ee.READY?"idle":c.status===Ee.ERROR?"error":"loading");function x(d){return new Intl.NumberFormat("en-US").format(d)}var f=Je(),v=s(f),C=s(v),B=s(C,!0);a(C),ye(2),a(v);var I=i(v,2);{var Y=d=>{var y=He();o(d,y)},V=d=>{var y=be(),j=ae(y);{var F=Q=>{var W=Oe();o(Q,W)};b(j,Q=>{e(g)==="error"&&Q(F)},!0)}o(d,y)};b(I,d=>{e(g)==="loading"?d(Y):d(V,!1)})}a(f),T(d=>N(B,d),[()=>x(e(z))]),o(H,f),we()}var Ye=_('<div class="error-message svelte-1xzoagx"> </div>'),Xe=_(`<div class="send-form svelte-1xzoagx"><div class="form-section svelte-1xzoagx"><label for="amount" class="svelte-1xzoagx">Amount</label> <div class="amount-input-group svelte-1xzoagx"><input id="amount" type="number" placeholder="0" min="1" class="svelte-1xzoagx"/> <span class="amount-unit svelte-1xzoagx">sats</span></div> <div class="balance-info svelte-1xzoagx"> </div></div> <div class="form-section svelte-1xzoagx"><label for="memo" class="svelte-1xzoagx">Memo (optional)</label> <textarea id="memo" placeholder="What's this for?" class="svelte-1xzoagx"></textarea></div> <!> <button class="primary svelte-1xzoagx"><!></button></div>`),Ze=_('<div class="memo-display svelte-1xzoagx"><strong>Memo:</strong> </div>'),$e=_('<div class="token-result svelte-1xzoagx"><div class="success-icon svelte-1xzoagx">‚úì</div> <h3 class="svelte-1xzoagx">Token Generated!</h3> <p class="success-message svelte-1xzoagx"> </p> <div class="token-display svelte-1xzoagx"><div class="token-text svelte-1xzoagx"> </div> <button class="copy-button svelte-1xzoagx">üìã Copy</button></div> <!> <div class="actions svelte-1xzoagx"><button class="primary svelte-1xzoagx">Send Another</button></div></div>'),et=_('<div class="send-view svelte-1xzoagx"><!></div>');function tt(H,L){ke(L,!0);const c=Ie.$wallet;let z=S(""),g=S(""),x=S(""),f=S(!1),v=S(null),C=S("");const B=_e(()=>c.balance||0),I=_e(()=>Number(e(z))||0),Y=_e(()=>e(I)>0&&e(I)<=e(B)&&!e(f));function V(p){return new Intl.NumberFormat("en-US").format(p)}async function d(){if(e(Y)){t(f,!0),t(C,"");try{t(v,await c.send(e(I),e(g)||void 0),!0)}catch(p){t(C,p.message||"Failed to send",!0),console.error(p)}finally{t(f,!1)}}}function y(){e(v)&&navigator.clipboard.writeText(e(v))}function j(){t(z,""),t(g,""),t(x,""),t(v,null),t(C,"")}var F=et(),Q=s(F);{var W=p=>{var P=Xe(),E=s(P),r=i(s(E),2),n=s(r);Be(n),ye(2),a(r);var l=i(r,2),m=s(l);a(l),a(E);var k=i(E,2),w=i(s(k),2);Re(w),a(k);var q=i(k,2);{var O=h=>{var J=Ye(),oe=s(J,!0);a(J),T(()=>N(oe,e(C))),o(h,J)};b(q,h=>{e(C)&&h(O)})}var X=i(q,2);X.__click=d;var G=s(X);{var ue=h=>{var J=xe("Generating Token...");o(h,J)},Z=h=>{var J=xe("Generate Token");o(h,J)};b(G,h=>{e(f)?h(ue):h(Z,!1)})}a(X),a(P),T(h=>{qe(n,"max",e(B)),N(m,`Available: ${h??""} sats`),X.disabled=!e(Y)},[()=>V(e(B))]),Ce(n,()=>e(z),h=>t(z,h)),Ce(w,()=>e(g),h=>t(g,h)),o(p,P)},u=p=>{var P=$e(),E=i(s(P),4),r=s(E);a(E);var n=i(E,2),l=s(n),m=s(l,!0);a(l);var k=i(l,2);k.__click=y,a(n);var w=i(n,2);{var q=G=>{var ue=Ze(),Z=i(s(ue));a(ue),T(()=>N(Z,` ${e(g)??""}`)),o(G,ue)};b(w,G=>{e(g)&&G(q)})}var O=i(w,2),X=s(O);X.__click=j,a(O),a(P),T(G=>{N(r,`${G??""} sats ready to send`),N(m,e(v))},[()=>V(e(I))]),o(p,P)};b(Q,p=>{e(v)?p(u,!1):p(W)})}a(F),o(H,F),we()}Pe(["click"]);var at=_('<div class="success-screen svelte-ts5u1i"><div class="success-backdrop svelte-ts5u1i"></div> <div class="success-content svelte-ts5u1i"><div class="success-ring svelte-ts5u1i"><div class="success-checkmark svelte-ts5u1i">‚úì</div></div> <h3 class="success-title svelte-ts5u1i">Payment Received!</h3> <p class="success-amount svelte-ts5u1i"> </p> <button class="primary svelte-ts5u1i">Continue</button></div></div>'),st=_('<div class="error-message svelte-ts5u1i"> </div>'),nt=_('<div class="tab-content svelte-ts5u1i"><div class="form-section svelte-ts5u1i"><label for="token" class="svelte-ts5u1i">Cashu Token</label> <textarea id="token" placeholder="Paste cashu token here..." rows="6" class="svelte-ts5u1i"></textarea> <p class="hint svelte-ts5u1i">Paste a cashu token to redeem it into your wallet</p></div> <!> <button class="primary svelte-ts5u1i"><!></button></div>'),it=_('<option class="svelte-ts5u1i"> </option>'),rt=_('<p class="hint svelte-ts5u1i">No mints configured in your wallet</p>'),ot=_('<div class="error-message svelte-ts5u1i"> </div>'),lt=_('<div class="form-section svelte-ts5u1i"><label for="mint" class="svelte-ts5u1i">Select Mint</label> <select id="mint" class="svelte-ts5u1i"></select> <!></div> <div class="form-section svelte-ts5u1i"><label for="amount" class="svelte-ts5u1i">Amount (sats)</label> <div class="amount-input-group svelte-ts5u1i"><input id="amount" type="number" placeholder="100" min="1" class="svelte-ts5u1i"/> <span class="amount-unit svelte-ts5u1i">sats</span></div> <div class="preset-buttons svelte-ts5u1i"><button type="button" class="preset-btn svelte-ts5u1i">1k</button> <button type="button" class="preset-btn svelte-ts5u1i">5k</button> <button type="button" class="preset-btn svelte-ts5u1i">10k</button> <button type="button" class="preset-btn svelte-ts5u1i">21k</button> <button type="button" class="preset-btn svelte-ts5u1i">100k</button></div></div> <!> <button class="primary svelte-ts5u1i"><!></button>',1),vt=_('<div class="qr-container svelte-ts5u1i"><div class="qr-wrapper svelte-ts5u1i"><!></div></div> <div class="invoice-box svelte-ts5u1i"><label class="svelte-ts5u1i">Invoice String</label> <div class="invoice-text svelte-ts5u1i"> </div> <button class="copy-button svelte-ts5u1i"><span class="copy-icon svelte-ts5u1i">üìã</span> Copy Invoice</button></div> <div class="waiting-status svelte-ts5u1i"><div class="spinner svelte-ts5u1i"></div> <p class="svelte-ts5u1i">Waiting for payment...</p></div>',1),ct=_('<div class="error-message svelte-ts5u1i"> </div>'),ut=_('<div class="quote-display svelte-ts5u1i"><h4 class="svelte-ts5u1i">Lightning Invoice</h4> <p class="quote-amount svelte-ts5u1i"> </p> <!> <div class="quote-actions svelte-ts5u1i"><button class="svelte-ts5u1i">Cancel</button></div> <!></div>'),dt=_('<div class="tab-content svelte-ts5u1i"><!></div>'),pt=_('<div class="tabs svelte-ts5u1i"><button>Deposit</button> <button>Paste Token</button></div> <!>',1),_t=_('<div class="receive-view svelte-ts5u1i"><!></div>');function ft(H,L){ke(L,!0);const c=Ie.$wallet;let z=S("mint"),g=S(""),x=S(""),f=S(!1),v=S(""),C=S(null),B=S(null),I=S(null),Y=S(!1),V=_e(()=>c.mints?.map(n=>typeof n=="string"?n:n.url)||[]),d=S("");ze(()=>{e(V).length>0&&!e(d)&&t(d,e(V)[0],!0)});async function y(){if(e(g).trim()){t(f,!0),t(v,"");try{await c.receiveToken(e(g).trim()),t(C,{amount:0},!0),t(g,"")}catch(n){t(v,n.message||"Failed to receive token",!0),console.error(n)}finally{t(f,!1)}}}async function j(){const n=Number(e(x));if(!(!n||n<=0)){if(!e(d)){t(v,"No mint selected");return}t(f,!0),t(v,"");try{const l=c.deposit(n,e(d));if(!l)throw new Error("Failed to create deposit request");t(B,l,!0),l.on("success",()=>{t(C,{amount:n},!0),t(x,""),t(B,null),t(I,null),t(Y,!1),t(f,!1)}),l.on("error",k=>{t(v,k.message||"Deposit failed",!0),t(Y,!1),t(f,!1)});const m=await l.start();t(I,m,!0)}catch(l){t(v,l.message||"Failed to create mint request",!0),console.error(l)}finally{t(f,!1)}}}function F(n){t(x,n.toString(),!0)}function Q(){e(I)&&navigator.clipboard.writeText(e(I))}function W(){t(B,null),t(I,null),t(Y,!1),t(v,"")}function u(){t(C,null),t(v,"")}var p=_t(),P=s(p);{var E=n=>{var l=at(),m=i(s(l),2),k=i(s(m),4),w=s(k);a(k);var q=i(k,2);q.__click=u,a(m),a(l),T(O=>N(w,`${O??""} sats`),[()=>new Intl.NumberFormat("en-US").format(e(C).amount)]),o(n,l)},r=n=>{var l=pt(),m=ae(l),k=s(m);k.__click=()=>t(z,"mint");let w;var q=i(k,2);q.__click=()=>t(z,"paste");let O;a(m);var X=i(m,2);{var G=Z=>{var h=nt(),J=s(h),oe=i(s(J),2);Re(oe),ye(2),a(J);var pe=i(J,2);{var se=R=>{var U=st(),ce=s(U,!0);a(U),T(()=>N(ce,e(v))),o(R,U)};b(pe,R=>{e(v)&&R(se)})}var ee=i(pe,2);ee.__click=y;var ne=s(ee);{var le=R=>{var U=xe("Processing...");o(R,U)},ve=R=>{var U=xe("Redeem Token");o(R,U)};b(ne,R=>{e(f)?R(le):R(ve,!1)})}a(ee),a(h),T(R=>ee.disabled=R,[()=>!e(g).trim()||e(f)]),Ce(oe,()=>e(g),R=>t(g,R)),o(Z,h)},ue=Z=>{var h=dt(),J=s(h);{var oe=se=>{var ee=lt(),ne=ae(ee),le=i(s(ne),2);Qe(le,21,()=>e(V),Ue,(M,te)=>{var fe=it(),We=s(fe,!0);a(fe);var Te={};T(()=>{N(We,e(te)),Te!==(Te=e(te))&&(fe.value=(fe.__value=e(te))??"")}),o(M,fe)}),a(le);var ve=i(le,2);{var R=M=>{var te=rt();o(M,te)};b(ve,M=>{e(V).length===0&&M(R)})}a(ne);var U=i(ne,2),ce=i(s(U),2),me=s(ce);Be(me),ye(2),a(ce);var he=i(ce,2),$=s(he);$.__click=()=>F(1e3);var D=i($,2);D.__click=()=>F(5e3);var A=i(D,2);A.__click=()=>F(1e4);var K=i(A,2);K.__click=()=>F(21e3);var ie=i(K,2);ie.__click=()=>F(1e5),a(he),a(U);var re=i(U,2);{var de=M=>{var te=ot(),fe=s(te,!0);a(te),T(()=>N(fe,e(v))),o(M,te)};b(re,M=>{e(v)&&M(de)})}var ge=i(re,2);ge.__click=j;var De=s(ge);{var Me=M=>{var te=xe("Creating Deposit...");o(M,te)},Fe=M=>{var te=xe("Create Deposit");o(M,te)};b(De,M=>{e(f)?M(Me):M(Fe,!1)})}a(ge),T(M=>ge.disabled=M,[()=>!e(x)||Number(e(x))<=0||!e(d)||e(f)]),je(le,()=>e(d),M=>t(d,M)),Ce(me,()=>e(x),M=>t(x,M)),o(se,ee)},pe=se=>{var ee=ut(),ne=i(s(ee),2),le=s(ne);a(ne);var ve=i(ne,2);{var R=$=>{var D=vt(),A=ae(D),K=s(A),ie=s(K);{let Me=_e(()=>e(I).toUpperCase());Ve(ie,{get value(){return e(Me)},size:280})}a(K),a(A);var re=i(A,2),de=i(s(re),2),ge=s(de,!0);a(de);var De=i(de,2);De.__click=Q,a(re),ye(2),T(()=>N(ge,e(I))),o($,D)};b(ve,$=>{e(I)&&$(R)})}var U=i(ve,2),ce=s(U);ce.__click=W,a(U);var me=i(U,2);{var he=$=>{var D=ct(),A=s(D,!0);a(D),T(()=>N(A,e(v))),o($,D)};b(me,$=>{e(v)&&$(he)})}a(ee),T($=>N(le,`${$??""} sats`),[()=>Number(e(x)).toLocaleString()]),o(se,ee)};b(J,se=>{e(B)?se(pe,!1):se(oe)})}a(h),o(Z,h)};b(X,Z=>{e(z)==="paste"?Z(G):Z(ue,!1)})}T(()=>{w=Ne(k,1,"svelte-ts5u1i",null,w,{active:e(z)==="mint"}),O=Ne(q,1,"svelte-ts5u1i",null,O,{active:e(z)==="paste"})}),o(n,l)};b(P,n=>{e(C)?n(E):n(r,!1)})}a(p),o(H,p),we()}Pe(["click"]);var bt=_('<div class="error-overlay svelte-121oowb"><div class="error-content svelte-121oowb"><div class="error-icon svelte-121oowb">‚ö†Ô∏è</div> <p class="error-message svelte-121oowb"> </p> <button class="button-primary svelte-121oowb">Close</button></div></div>'),mt=_('<div class="scanner-overlay svelte-121oowb"><div class="scanner-frame svelte-121oowb"><div class="corner top-left svelte-121oowb"></div> <div class="corner top-right svelte-121oowb"></div> <div class="corner bottom-left svelte-121oowb"></div> <div class="corner bottom-right svelte-121oowb"></div></div> <div class="scanner-instructions svelte-121oowb"><p>Position QR code within the frame</p></div> <button class="cancel-button svelte-121oowb">Cancel</button></div>'),ht=_('<div class="paste-input-container svelte-121oowb"><textarea placeholder="Paste lightning invoice here..." rows="3" class="paste-input svelte-121oowb"></textarea> <div class="paste-actions svelte-121oowb"><button class="button-secondary svelte-121oowb">Cancel</button> <button class="button-primary svelte-121oowb">Continue</button></div></div>'),gt=_('<button class="paste-button svelte-121oowb"><svg class="paste-icon svelte-121oowb" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg> Paste Invoice</button>'),xt=_('<div class="scanner-container svelte-121oowb"><!> <!> <div class="paste-section svelte-121oowb"><!></div></div>');function kt(H,L){ke(L,!0);let c=Se(L,"onScan",11,()=>{}),z=Se(L,"onCancel",11,()=>{}),g=S(!1),x=S(null),f=S(""),v=S(!1);async function C(){try{document.body.style.background="transparent",document.documentElement.style.background="transparent",t(g,!0),t(x,null);const{CapacitorBarcodeScanner:r}=await Ge(async()=>{const{CapacitorBarcodeScanner:l}=await import("../chunks/DB6jRe9O.js").then(m=>m.i);return{CapacitorBarcodeScanner:l}},__vite__mapDeps([0,1,2,3,4]),import.meta.url),n=await r.scanBarcode({hint:17,scanInstructions:"",scanButton:!1,scanText:""});n&&n.ScanResult&&I(n.ScanResult)}catch(r){t(x,r instanceof Error?r.message:String(r),!0),console.error("Scan error:",r)}finally{B()}}function B(){document?.body&&(document.body.style.background="",document.documentElement.style.background=""),t(g,!1)}function I(r){const n=r.trim().toLowerCase().startsWith("lightning:")?r.trim().substring(10):r.trim();c()(n)}function Y(){e(f).trim()&&(I(e(f)),t(f,""),t(v,!1))}async function V(){try{const r=await navigator.clipboard.readText();r&&(t(f,r,!0),t(v,!0))}catch{t(v,!0)}}function d(){B(),z()()}ze(()=>(C(),()=>{B()}));var y=xt(),j=s(y);{var F=r=>{var n=bt(),l=s(n),m=i(s(l),2),k=s(m,!0);a(m);var w=i(m,2);w.__click=d,a(l),a(n),T(()=>N(k,e(x))),o(r,n)};b(j,r=>{e(x)&&r(F)})}var Q=i(j,2);{var W=r=>{var n=mt(),l=i(s(n),4);l.__click=d,a(n),o(r,n)};b(Q,r=>{e(g)&&r(W)})}var u=i(Q,2),p=s(u);{var P=r=>{var n=ht(),l=s(n);Re(l);var m=i(l,2),k=s(m);k.__click=()=>t(v,!1);var w=i(k,2);w.__click=Y,a(m),a(n),T(q=>w.disabled=q,[()=>!e(f).trim()]),Ce(l,()=>e(f),q=>t(f,q)),o(r,n)},E=r=>{var n=gt();n.__click=V,o(r,n)};b(p,r=>{e(v)?r(P):r(E,!1)})}a(u),a(y),o(H,y),we()}Pe(["click"]);var wt=_('<div class="invoice-error svelte-1kcpsh9"><div class="error-icon svelte-1kcpsh9">‚ö†Ô∏è</div> <h3 class="svelte-1kcpsh9">Invalid Invoice</h3> <p class="error-message svelte-1kcpsh9"> </p> <button class="button-secondary svelte-1kcpsh9">Go Back</button></div>'),yt=_('<div class="detail-row svelte-1kcpsh9"><span class="detail-label svelte-1kcpsh9">Payment Hash</span> <span class="detail-value monospace svelte-1kcpsh9"> </span></div>'),St=_('<button class="button-secondary full-width svelte-1kcpsh9">Close</button>'),Ct=_('<button class="button-secondary svelte-1kcpsh9">Cancel</button> <button class="button-primary svelte-1kcpsh9"> </button>',1),Pt=_('<div class="invoice-details svelte-1kcpsh9"><div class="invoice-header svelte-1kcpsh9"><div class="amount-section"><div class="amount-label svelte-1kcpsh9">Amount</div> <div class="amount-value svelte-1kcpsh9"> </div></div></div> <div class="details-section svelte-1kcpsh9"><div class="detail-row svelte-1kcpsh9"><span class="detail-label svelte-1kcpsh9">Description</span> <span class="detail-value svelte-1kcpsh9"> </span></div> <div class="detail-row svelte-1kcpsh9"><span class="detail-label svelte-1kcpsh9">Created</span> <span class="detail-value svelte-1kcpsh9"> </span></div> <div class="detail-row svelte-1kcpsh9"><span class="detail-label svelte-1kcpsh9">Expires in</span> <span> </span></div> <!></div> <div class="invoice-string svelte-1kcpsh9"><div class="invoice-label svelte-1kcpsh9">Invoice</div> <div class="invoice-text svelte-1kcpsh9"> </div></div> <div class="actions svelte-1kcpsh9"><!></div></div>'),zt=_('<div class="loading svelte-1kcpsh9"><div class="spinner svelte-1kcpsh9"></div> <p class="svelte-1kcpsh9">Decoding invoice...</p></div>');function It(H,L){ke(L,!0);let c=Se(L,"invoice",11,""),z=Se(L,"onPay",11,()=>{}),g=Se(L,"onCancel",11,()=>{}),x=S(null),f=S(null);ze(()=>{if(c())try{const u=c().trim().toLowerCase().startsWith("lightning:")?c().trim().substring(10):c().trim();t(x,Le.decode(u),!0),t(f,null)}catch(u){t(f,u instanceof Error?u.message:"Invalid lightning invoice",!0),t(x,null)}});function v(u){return e(x)?.sections?.find(p=>p.name===u)}function C(){const u=v("amount");if(!u?.value)return"No amount specified";const p=Math.floor(Number(u.value)/1e3);return`${new Intl.NumberFormat("en-US").format(p)} sats`}function B(){const u=v("timestamp");return u?.value?new Date(u.value*1e3).toLocaleString():"N/A"}function I(){const u=v("timestamp"),p=v("expiry");if(!u?.value||!p?.value)return"N/A";const P=new Date((u.value+p.value)*1e3),E=new Date;if(P<E)return"Expired";const r=P.getTime()-E.getTime(),n=Math.floor(r/6e4),l=Math.floor(n/60);return l>24?`${Math.floor(l/24)} days`:l>0?`${l} hours`:`${n} minutes`}function Y(){return v("description")?.value||"No description"}function V(){return v("payment_hash")?.value||""}function d(){e(x)&&c()&&z()(c())}const y=_e(()=>()=>{const u=v("timestamp"),p=v("expiry");return!u?.value||!p?.value?!1:(u.value+p.value)*1e3<Date.now()});var j=be(),F=ae(j);{var Q=u=>{var p=wt(),P=i(s(p),4),E=s(P,!0);a(P);var r=i(P,2);r.__click=function(...n){g()?.apply(this,n)},a(p),T(()=>N(E,e(f))),o(u,p)},W=u=>{var p=be(),P=ae(p);{var E=n=>{var l=Pt(),m=s(l),k=s(m),w=i(s(k),2),q=s(w,!0);a(w),a(k),a(m);var O=i(m,2),X=s(O),G=i(s(X),2),ue=s(G,!0);a(G),a(X);var Z=i(X,2),h=i(s(Z),2),J=s(h,!0);a(h),a(Z);var oe=i(Z,2),pe=i(s(oe),2);let se;var ee=s(pe,!0);a(pe),a(oe);var ne=i(oe,2);{var le=D=>{var A=yt(),K=i(s(A),2),ie=s(K);a(K),a(A),T(re=>N(ie,`${re??""}...`),[()=>V().substring(0,16)]),o(D,A)};b(ne,D=>{V()&&D(le)})}a(O);var ve=i(O,2),R=i(s(ve),2),U=s(R,!0);a(R),a(ve);var ce=i(ve,2),me=s(ce);{var he=D=>{var A=St();A.__click=function(...K){g()?.apply(this,K)},o(D,A)},$=D=>{var A=Ct(),K=ae(A);K.__click=function(...de){g()?.apply(this,de)};var ie=i(K,2);ie.__click=d;var re=s(ie);a(ie),T(de=>N(re,`Pay ${de??""}`),[C]),o(D,A)};b(me,D=>{e(y)()?D(he):D($,!1)})}a(ce),a(l),T((D,A,K,ie,re)=>{N(q,D),N(ue,A),N(J,K),se=Ne(pe,1,"detail-value svelte-1kcpsh9",null,se,ie),N(ee,re),N(U,c())},[C,Y,B,()=>({expired:e(y)()}),I]),o(n,l)},r=n=>{var l=zt();o(n,l)};b(P,n=>{e(x)?n(E):n(r,!1)},!0)}o(u,p)};b(F,u=>{e(f)?u(Q):u(W,!1)})}o(H,j),we()}Pe(["click"]);const Dt=H=>{var L=Mt();o(H,L)};var Mt=_('<a href="/settings?tab=wallet" class="inline-flex items-center justify-center p-2 rounded-lg hover:bg-muted transition-colors text-foreground"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></a>'),Nt=_('<div class="balance-section svelte-1chnlgf"><!></div> <div class="action-buttons svelte-1chnlgf"><button class="action-btn send svelte-1chnlgf"><span class="action-icon svelte-1chnlgf">‚Üë</span> <span class="action-label svelte-1chnlgf">Send</span></button> <button class="action-btn scan svelte-1chnlgf"><svg class="action-icon-svg svelte-1chnlgf" fill="none" stroke="currentColor" viewBox="0 0 24 24"><rect x="4" y="4" width="6" height="6" stroke="currentColor" stroke-width="2" fill="none" rx="1"></rect><rect x="14" y="4" width="6" height="6" stroke="currentColor" stroke-width="2" fill="none" rx="1"></rect><rect x="4" y="14" width="6" height="6" stroke="currentColor" stroke-width="2" fill="none" rx="1"></rect><rect x="14" y="14" width="6" height="6" stroke="currentColor" stroke-width="2" fill="none" rx="1"></rect></svg> <span class="action-label svelte-1chnlgf">Scan QR</span></button> <button class="action-btn receive svelte-1chnlgf"><span class="action-icon svelte-1chnlgf">‚Üì</span> <span class="action-label svelte-1chnlgf">Receive</span></button></div>',1),Rt=_('<div class="wallet-container svelte-1chnlgf"><div class="wallet-content svelte-1chnlgf"><!></div></div>');function Tt(H,L){ke(L,!0);let c=S("wallet"),z=S("");function g(d){t(z,d,!0),t(c,"invoice")}function x(){t(c,"wallet"),t(z,"")}async function f(d){try{await Ie.$wallet.lnPay({pr:d}),t(c,"wallet"),t(z,"")}catch(y){throw console.error("Payment failed:",y),y}}function v(){t(c,"wallet"),t(z,"")}ze(()=>{const d=e(c)==="wallet"?"Wallet":e(c)==="send"||e(c)==="scan"?"Send":e(c)==="invoice"?"Payment Details":e(c)==="receive"?"Receive":"Wallet";return Ae.headerConfig={title:d,backNav:e(c)!=="wallet"?{onclick:()=>t(c,"wallet")}:void 0,actions:e(c)==="wallet"?Dt:void 0},()=>{Ae.clear()}});var C=Rt(),B=s(C),I=s(B);{var Y=d=>{var y=Nt(),j=ae(y),F=s(j);Ke(F,{}),a(j);var Q=i(j,2),W=s(Q);W.__click=()=>t(c,"send");var u=i(W,2);u.__click=()=>t(c,"scan");var p=i(u,2);p.__click=()=>t(c,"receive"),a(Q),o(d,y)},V=d=>{var y=be(),j=ae(y);{var F=W=>{tt(W,{})},Q=W=>{var u=be(),p=ae(u);{var P=r=>{kt(r,{onScan:g,onCancel:x})},E=r=>{var n=be(),l=ae(n);{var m=w=>{It(w,{get invoice(){return e(z)},onPay:f,onCancel:v})},k=w=>{var q=be(),O=ae(q);{var X=G=>{ft(G,{})};b(O,G=>{e(c)==="receive"&&G(X)},!0)}o(w,q)};b(l,w=>{e(c)==="invoice"?w(m):w(k,!1)},!0)}o(r,n)};b(p,r=>{e(c)==="scan"?r(P):r(E,!1)},!0)}o(W,u)};b(j,W=>{e(c)==="send"?W(F):W(Q,!1)},!0)}o(d,y)};b(I,d=>{e(c)==="wallet"?d(Y):d(V,!1)})}a(B),a(C),o(H,C),we()}Pe(["click"]);function Gt(H){Tt(H,{})}export{Gt as component};
